import{SymbolFor as t,LOCKER_UNMINIFIED_FLAG as LOCKER_UNMINIFIED_FLAG$LWS,ArrayIsArray as e,ReflectDefineProperty as o,isNearMembrane as r,ReflectApply as n,ArrayProtoPush as i,ObjectProtoToString as a,ObjectKeys as s,TO_STRING_BRAND_SYMBOL as l,ArrayProtoIncludes as c,ArrayProtoUnshift as u,TO_STRING_BRAND_STRING as f,ArrayProtoFilter as d,NumberIsInteger as y,MathMin as p,CHAR_ELLIPSIS as S,StringProtoSlice as h,StringCtor as L,getNearMembraneSerializedValue as g,TO_STRING_BRAND_NUMBER as $,TO_STRING_BRAND_BOOLEAN as W,TO_STRING_BRAND_BIG_INT as v,ReflectOwnKeys as b,ArrayProtoSort as T,isObject as P,NumberIsFinite as w,JSONStringify as m,SANDBOX_EVAL_CONTEXT_NAME as O,toSafeWeakMap as _,WeakMapCtor as E,toSafeWeakSet as x,WeakSetCtor as A,LockerSecurityError as B,indexOfPragma as M,extractFunctionBodySource as F,toString as j,StringProtoReplace as H,UNCOMPILED_LOCATION_NAME as k,toSafeMap as R,MapCtor as I,isObjectLike as C,LOCKER_IDENTIFIER_MARKER as N,ProxyCtor as D,ObjectFreeze as G,ReflectConstruct as K,ArrayConcat as U,ObjectHasOwn as V,ObjectAssign as z,ObjectGetOwnPropertyDescriptors as X,SANDBOX_EVAL_HELPERS_NAME as Q}from"@locker/shared";import{distortBlockedAttributes as Z,HTMLElementBlockedAttributes as J,HTMLIFrameElementBlockedAttributes as Y,HTMLScriptElementBlockedAttributes as q,SVGElementBlockedAttributes as tt,createAttributeDistortions as et,internalDistortionFactories as ot,internalKeyedDistortionFactories as rt,externalDistortionFactories as nt,externalKeyedDistortionFactories as it,createBlockedPropertyDistortionFactories as at,CustomElementRegistryBlockedProperties as st,DocumentBlockedProperties as lt,ElementBlockedProperties as ct,HTMLElementBlockedProperties as ut,HTMLIFrameElementBlockedProperties as ft,HTMLEmbedElementBlockedProperties as dt,HTMLObjectElementBlockedProperties as yt,HTMLScriptElementBlockedProperties as pt,SVGElementBlockedProperties as St,XSLTProcessorBlockedProperties as ht,evaluationDistortionFactories as Lt}from"@locker/distortion";import{defaultInstrumentation as gt}from"@locker/instrumentation";import{WindowFrameElementGetter as $t,EventTargetProtoAddEventListener as Wt,WindowQueueMicrotask as vt,WindowDocumentGetter as bt,DocumentProtoDefaultViewGetter as Tt}from"@locker/shared-dom";const Pt=t("@@lockerDebugMode");if(LOCKER_UNMINIFIED_FLAG$LWS){let t=!0;const O=100,_=5,E=100,x=E/2,A="display: inline-block; margin-bottom: 3px; margin-left: -3px; word-break: break-all; word-wrap: wrap;",B={style:"margin-left:11px; margin-bottom: 3px;"},M={style:"display: inline-block; margin-left:12px; word-break: break-all; word-wrap: wrap;"},F={style:"color: #9d288c; font-weight: bold"},j={style:"color: #b17ab0"},H={style:"color: #16239f"},k={style:"color: #236d25"},R={style:"color: #606367"},I={style:"color: #b82619"},formatValue$LWS=function(t){if(null==t)return["span",R,`${t}`];if("boolean"==typeof t)return["span",H,t];if("number"==typeof t)return w(t)?["span",H,t]:["span",H,(t>=0?"":"-")+"Infinity"];if("string"==typeof t){let e=t;const{length:o}=e;if(o>E){const t=n(h,e,[0,x]),r=n(h,e,[o-x-1,o]);e=t+S+r}return["span",I,m(e)]}return e(t)?["span",{},`Array(${t.length})`]:P(t)?["span",{},`{${S}}`]:["span",I,L(t)]},formatHeader$LWS=function(t,o={}){const{t:r}=o,i=[];let b=0;r&&(i[b++]=["span",F,o.o],i[b++]=["span",{},": "]);const T=n(a,t,[]);let P=s(t);if(T===l)n(c,P,["description"])||n(u,P,["description"]);else if(T===f){const{length:e}=t;P=n(d,P,[t=>{const o="string"==typeof t?+t:-1;return o<0||o>=e||!y(o)}])}const{length:w}=P;if(e(t)){i[b++]=["span",r?R:{},`(${t.length}) [`];for(let e=0,o=p(w,O);e<o;e+=1){const o=t[P[e]];i[b++]=["span",{},e?", ":""],i[b++]=formatValue$LWS(o)}return w>O&&(i[b++]=["span",null,["span",{},`, ${S}`]]),i[b++]=["span",{},"]"],i}let m,E="{";switch(T){case v:case W:case $:case f:case l:{let e=H;T===v?e=k:T===l&&(e=I),E=`${n(h,T,[8,-1])} {`,m=["span",e,`${L(g(t))}`];break}}i[b++]=["span",{},E],m&&(i[b++]=m,w&&(i[b++]=["span",{},", "]));for(let e=0,o=p(w,_);e<o;e+=1){const o=P[e],r=t[o];i[b++]=["span",{},e?", ":""],i[b++]=["span",R,o],i[b++]=["span",{},": "],i[b++]=formatValue$LWS(r)}return w>_&&(i[b++]=["span",null,["span",{},`, ${S}`]]),i[b++]=["span",{},"}"],i},formatBody$LWS=function(t){const o=s(t),r=b(t);e(t)||n(T,r,[]);const i=[];let a=0;for(let e=0,{length:s}=r;e<s;e+=1){const s=r[e],l=t[s];if(P(l))i[a++]=["div",{},["object",{object:l,config:{o:L(s),t:!0}}]];else{let t=F;"symbol"!=typeof s&&n(c,o,[s])||(t=j),i[a++]=["div",B,["span",t,L(s)],["span",{},": "],formatValue$LWS(l)]}}return i};let{devtoolsFormatters:C}=window;e(C)||(C=[],o(window,"devtoolsFormatters",{__proto__:null,configurable:!0,value:C,writable:!0})),C[C.length]={header(e,a={}){if(t&&(t=!1,o(window,Pt,{__proto__:null,configurable:!0,value:!0,writable:!0})),!r(e))return null;const s=["div",{style:`${A}${a.t?"":"font-style: italic;"}`}];return n(i,s,formatHeader$LWS(e,a)),["div",{},s]},hasBody:()=>!0,body(t){const e=["div",M];return n(i,e,formatBody$LWS(t)),e}}}const wt=Array,mt=WeakMap,{setPrototypeOf:Ot}=Reflect,{iterator:_t,toStringTag:Et,unscopables:xt}=Symbol,{prototype:At}=wt,{at:Bt,concat:Mt,copyWithin:Ft,entries:jt,every:Ht,fill:kt,filter:Rt,find:It,findIndex:Ct,flat:Nt,flatMap:Dt,forEach:Gt,includes:Kt,indexOf:Ut,join:Vt,keys:zt,lastIndexOf:Xt,map:Qt,pop:Zt,push:Jt,reduce:Yt,reduceRight:qt,reverse:te,shift:ee,slice:oe,some:re,sort:ne,splice:ie,toLocaleString:ae,toString:se,unshift:le,values:ce,[_t]:ue}=At,fe=Object.freeze(Object.assign({__proto__:null},At[xt])),{prototype:de}=mt,{delete:ye,get:pe,has:Se,set:he,[Et]:Le}=de;function toSafeWeakMap$LWS(t){return Ot(t,null),t.constructor=mt,t.delete=ye,t.get=pe,t.has=Se,t.set=he,t[Et]=Le,Ot(t,de),t}const ge=toSafeWeakMap$LWS(new WeakMap);function createMembraneMarshall$LWS(t){var e,o,r;const n=Array,i=ArrayBuffer,a=Error,s=Number,l=Object,c=Proxy,u=Reflect,f=RegExp,d=String,y=Symbol,p=TypeError,S=WeakMap,{for:h,toStringTag:L}=y,{apply:g,construct:$,defineProperty:W,deleteProperty:v,get:b,getOwnPropertyDescriptor:T,getPrototypeOf:P,has:w,isExtensible:m,ownKeys:O,preventExtensions:_,set:E,setPrototypeOf:x}=u,{assign:A,defineProperties:B,freeze:M,getOwnPropertyDescriptor:F,getOwnPropertyDescriptors:j,isFrozen:H,isSealed:k,keys:R,prototype:I,seal:C}=l,{hasOwnProperty:N,propertyIsEnumerable:D,toString:G}=I,{hasOwn:K}=l,{__defineGetter__:U,__defineSetter__:V,__lookupGetter__:z,__lookupSetter__:X}=I,Q="function"==typeof K?K:(t,e)=>g(N,t,[e]),Z="object"!=typeof t||null===t,J=Z?void 0:h("@@lockerDebugMode"),Y=Z?void 0:h("@@lockerLiveValue"),q=Z?void 0:h("@@lockerNearMembraneSerializedValue"),tt=Z?void 0:h("@@lockerNearMembrane"),et=h("@@lockerNearMembraneUndefinedValue"),LOCKER_UNMINIFIED_FLAG$LWS=`${()=>
/* $LWS */
1}`.includes("*"),ot=LOCKER_UNMINIFIED_FLAG$LWS&&!Z,rt="function"==typeof BigInt,nt=Z?/\w*$/:void 0,{isArray:it}=n,{includes:at,indexOf:st,slice:lt}=n.prototype,{isView:ct}=i,ut=Z?void 0:g(z,i.prototype,["byteLength"]),ft=rt?BigInt.prototype.valueOf:void 0,{valueOf:dt}=Boolean.prototype,{toString:yt}=a.prototype,{bind:pt,toString:St}=Function.prototype,{stringify:ht}=JSON,{isInteger:Lt}=s,{valueOf:gt}=s.prototype,{revocable:$t}=c,{prototype:Wt}=f,{exec:vt,test:bt,toString:Tt}=Wt,Pt=Z?null!=(e=g(z,Wt,["flags"]))?e:function(){const t=g(Tt,this,[]);return g(vt,nt,[t])[0]}:void 0,wt=g(z,Wt,["source"]),{replace:mt,slice:Ot,valueOf:_t}=d.prototype,{toString:Et,valueOf:xt}=y.prototype,At=g(z,Uint8Array.prototype.__proto__,["length"]),{prototype:Bt}=S,{delete:Mt,has:Ft,set:jt,[L]:Ht}=Bt,kt=Z||"object"!=typeof console||null===console?void 0:console,Rt=null==kt?void 0:kt.info,It=Z?eval:void 0,Ct=null!=(o=null!=(r=null!=t?t:"undefined"!=typeof globalThis?globalThis:void 0)?r:"undefined"!=typeof self?self:void 0)?o:(W(I,"globalThis",{__proto__:null,configurable:!0,get(){return v(I,"globalThis"),null!=this?this:self}}),globalThis);let Nt=!1,Dt=!1;function alwaysFalse$LWS(){return!1}function identity$LWS(t){return t}const Gt=LOCKER_UNMINIFIED_FLAG$LWS?()=>{if(Nt)return;Nt=!0;const t=(()=>{try{var t;a.prepareStackTrace=(t,e)=>e;const e=(new a).stack;return v(a,"prepareStackTrace"),it(e)&&e.length>0?null==(t=e[0])?void 0:t.constructor:void 0}catch(t){}})();if("function"!=typeof t)return;const{getEvalOrigin:e,getFunctionName:o,toString:r}=t.prototype,n=new f(`${g(mt,"$LWS",[/[\\^$.*+?()[\]{}|]/g,"\\$&"])}(?=\\.|$)`);try{a.prepareStackTrace=function(t,i){return function(t,i){let a="";try{a=g(yt,t,[])}catch(t){a="<error>"}let s=!1;for(let t=0,{length:l}=i;t<l;t+=1){const l=i[t],c=g(o,l,[]);let u=!1;if("string"==typeof c&&"eval"!==c&&g(bt,n,[c])&&(u=!0),!u){const t=g(e,l,[]);"string"==typeof t&&g(bt,n,[t])&&(u=!0)}if(u)s||(s=!0,a+="\n    at LWS");else{s=!1;try{a+=`\n    at ${g(r,l,[])}`}catch(t){}}}return a}(t,i)}}catch(t){}try{const{stackTraceLimit:t}=a;("number"!=typeof t||t<20)&&(a.stackTraceLimit=20)}catch(t){}}:noop$LWS;function noop$LWS(){}const Kt=Z?t=>g(ft,t,[]):noop$LWS,Ut=Z?t=>g(dt,t,[]):noop$LWS,Vt=Z?t=>g(gt,t,[]):noop$LWS,zt=Z?t=>{if(t!==Wt){const e=g(wt,t,[]);return ht({__proto__:null,flags:g(Pt,t,[]),source:e})}}:noop$LWS,Xt=Z?t=>g(_t,t,[]):noop$LWS,Qt=Z?t=>g(xt,t,[]):noop$LWS,Zt=Z?t=>{switch(g(G,t,[])){case"[object Boolean]":return Ut(t);case"[object Number]":return Vt(t);case"[object RegExp]":return zt(t);case"[object String]":return Xt(t);case"[object Object]":try{return Qt(t)}catch(t){}if(rt)try{return Kt(t)}catch(t){}default:return}}:noop$LWS,Jt=Z?t=>{try{return Qt(t)}catch(t){}if(rt)try{return Kt(t)}catch(t){}try{return Ut(t)}catch(t){}try{return Vt(t)}catch(t){}try{return zt(t)}catch(t){}try{return Xt(t)}catch(t){}}:noop$LWS;function toSafeWeakMap$LWS(t){return x(t,null),t.constructor=S,t.delete=Mt,t.has=Ft,t.set=jt,t[L]=Ht,x(t,Bt),t}return function(t,e,o){const{distortionCallback:r=identity$LWS,instrumentation:i}=A({__proto__:null},o),a=!Z&&"object"==typeof i&&null!==i,s={__proto__:null,0:void 0,1:void 0,2:void 0,3:void 0,4:void 0,n:void 0},f={__proto__:null,0:void 0,1:void 0,2:void 0,3:void 0,4:void 0,n:void 0},y=toSafeWeakMap$LWS(new S),h=toSafeWeakMap$LWS(new S),N=a?i.startActivity:void 0;let K,rt,nt,ft,dt,yt,ht,gt,vt,bt,Tt,Pt,mt,_t,xt,Bt,Mt,Ft,jt,Ht,Nt,Kt,Ut,Vt,zt,Xt,Qt,Yt,qt,te=!1,ee=0;const oe=Z?(t,e,o)=>{o[e]=!1;const r=getTransferablePointer$LWS(t);let n;try{gt(r,e,(t,e,o,r,i,a,s)=>{n=createDescriptorFromMeta$LWS(e,o,r,i,a,s)})}catch(t){var i;const e=null!=(i=qt)?i:t;throw qt=void 0,e}n?W(t,e,n):v(t,e)}:noop$LWS;let re=ot?()=>{try{Q(Ct,J)&&(re=()=>!0,Gt(),Nt())}catch(t){re=alwaysFalse$LWS}return!1}:alwaysFalse$LWS;function copyForeignOwnPropertyDescriptorsAndPrototypeToShadowTarget$LWS(t,e){let o,r,n;a&&(o=N("copyForeignOwnPropertyDescriptorsAndPrototypeToShadowTarget"));try{r=Xt(t,(...t)=>{const o={};for(let e=0,{length:r}=t;e<r;e+=7){o[t[e]]=createDescriptorFromMeta$LWS(t[e+1],t[e+2],t[e+3],t[e+4],t[e+5],t[e+6])}B(e,o)})}catch(t){var i;const e=null!=(i=qt)?i:t;throw qt=void 0,a&&o.error(e),e}"function"==typeof r?(r(),n=qt,qt=void 0):n=null,x(e,n),a&&o.stop()}function createApplyOrConstructTrapForZeroOrMoreArgs$LWS(t){const e=1&t,o=`Reflect.${e?"apply":"construct"}()`,r=e?s:f,n=e?nt:ft;return function(i,s,l){ee=t;const c=e?l:s,{length:u}=c;var f;if(0!==u)return this[null!=(f=r[u])?f:r.n](i,s,l);let d;a&&(d=N(o));const{i:y}=this,p=e?s:l;let S,h;try{S=n(y,"object"==typeof p&&null!==p||"function"==typeof p?getTransferablePointer$LWS(p):"undefined"==typeof p?void 0:p)}catch(t){var L;const e=null!=(L=qt)?L:t;throw qt=void 0,a&&d.error(e),e}return"function"==typeof S?(S(),h=qt,qt=void 0):h=S,a&&d.stop(),h}}function createApplyOrConstructTrapForOneOrMoreArgs$LWS(t){const e=1&t,o=`Reflect.${e?"apply":"construct"}(1)`,r=e?s:f,n=e?nt:ft;return function(i,s,l){ee=t;const c=e?l:s,{length:u}=c;var f;if(1!==u)return this[null!=(f=r[u])?f:r.n](i,s,l);let d;a&&(d=N(o));const{i:y}=this,p=e?s:l;let S,h;try{const{0:t}=c;S=n(y,"object"==typeof p&&null!==p||"function"==typeof p?getTransferablePointer$LWS(p):"undefined"==typeof p?void 0:p,"object"==typeof t&&null!==t||"function"==typeof t?getTransferablePointer$LWS(t):"undefined"==typeof t?void 0:t)}catch(t){var L;const e=null!=(L=qt)?L:t;throw qt=void 0,a&&d.error(e),e}return"function"==typeof S?(S(),h=qt,qt=void 0):h=S,a&&d.stop(),h}}function createApplyOrConstructTrapForTwoOrMoreArgs$LWS(t){const e=1&t,o=`Reflect.${e?"apply":"construct"}(2)`,r=e?s:f,n=e?nt:ft;return function(i,s,l){ee=t;const c=e?l:s,{length:u}=c;var f;if(2!==u)return this[null!=(f=r[u])?f:r.n](i,s,l);let d;a&&(d=N(o));const{i:y}=this,p=e?s:l;let S,h;try{const{0:t,1:e}=c;S=n(y,"object"==typeof p&&null!==p||"function"==typeof p?getTransferablePointer$LWS(p):"undefined"==typeof p?void 0:p,"object"==typeof t&&null!==t||"function"==typeof t?getTransferablePointer$LWS(t):"undefined"==typeof t?void 0:t,"object"==typeof e&&null!==e||"function"==typeof e?getTransferablePointer$LWS(e):"undefined"==typeof e?void 0:e)}catch(t){var L;const e=null!=(L=qt)?L:t;throw qt=void 0,a&&d.error(e),e}return"function"==typeof S?(S(),h=qt,qt=void 0):h=S,a&&d.stop(),h}}function createApplyOrConstructTrapForThreeOrMoreArgs$LWS(t){const e=1&t,o=`Reflect.${e?"apply":"construct"}(3)`,r=e?s:f,n=e?nt:ft;return function(i,s,l){ee=t;const c=e?l:s,{length:u}=c;var f;if(3!==u)return this[null!=(f=r[u])?f:r.n](i,s,l);let d;a&&(d=N(o));const{i:y}=this,p=e?s:l;let S,h;try{const{0:t,1:e,2:o}=c;S=n(y,"object"==typeof p&&null!==p||"function"==typeof p?getTransferablePointer$LWS(p):"undefined"==typeof p?void 0:p,"object"==typeof t&&null!==t||"function"==typeof t?getTransferablePointer$LWS(t):"undefined"==typeof t?void 0:t,"object"==typeof e&&null!==e||"function"==typeof e?getTransferablePointer$LWS(e):"undefined"==typeof e?void 0:e,"object"==typeof o&&null!==o||"function"==typeof o?getTransferablePointer$LWS(o):"undefined"==typeof o?void 0:o)}catch(t){var L;const e=null!=(L=qt)?L:t;throw qt=void 0,a&&d.error(e),e}return"function"==typeof S?(S(),h=qt,qt=void 0):h=S,a&&d.stop(),h}}function createApplyOrConstructTrapForFourOrMoreArgs$LWS(t){const e=1&t,o=`Reflect.${e?"apply":"construct"}(4)`,r=e?s:f,n=e?nt:ft;return function(i,s,l){ee=t;const c=e?l:s,{length:u}=c;var f;if(4!==u)return this[null!=(f=r[u])?f:r.n](i,s,l);let d;a&&(d=N(o));const{i:y}=this,p=e?s:l;let S,h;try{const{0:t,1:e,2:o,3:r}=c;S=n(y,"object"==typeof p&&null!==p||"function"==typeof p?getTransferablePointer$LWS(p):"undefined"==typeof p?void 0:p,"object"==typeof t&&null!==t||"function"==typeof t?getTransferablePointer$LWS(t):"undefined"==typeof t?void 0:t,"object"==typeof e&&null!==e||"function"==typeof e?getTransferablePointer$LWS(e):"undefined"==typeof e?void 0:e,"object"==typeof o&&null!==o||"function"==typeof o?getTransferablePointer$LWS(o):"undefined"==typeof o?void 0:o,"object"==typeof r&&null!==r||"function"==typeof r?getTransferablePointer$LWS(r):"undefined"==typeof r?void 0:r)}catch(t){var L;const e=null!=(L=qt)?L:t;throw qt=void 0,a&&d.error(e),e}return"function"==typeof S?(S(),h=qt,qt=void 0):h=S,a&&d.stop(),h}}function createApplyOrConstructTrapForFiveOrMoreArgs$LWS(t){const e=1&t,o=`Reflect.${e?"apply":"construct"}(5)`,r=e?s:f,n=e?nt:ft;return function(i,s,l){ee=t;const c=e?l:s,{length:u}=c;var f;if(5!==u)return this[null!=(f=r[u])?f:r.n](i,s,l);let d;a&&(d=N(o));const{i:y}=this,p=e?s:l;let S,h;try{const{0:t,1:e,2:o,3:r,4:i}=c;S=n(y,"object"==typeof p&&null!==p||"function"==typeof p?getTransferablePointer$LWS(p):"undefined"==typeof p?void 0:p,"object"==typeof t&&null!==t||"function"==typeof t?getTransferablePointer$LWS(t):"undefined"==typeof t?void 0:t,"object"==typeof e&&null!==e||"function"==typeof e?getTransferablePointer$LWS(e):"undefined"==typeof e?void 0:e,"object"==typeof o&&null!==o||"function"==typeof o?getTransferablePointer$LWS(o):"undefined"==typeof o?void 0:o,"object"==typeof r&&null!==r||"function"==typeof r?getTransferablePointer$LWS(r):"undefined"==typeof r?void 0:r,"object"==typeof i&&null!==i||"function"==typeof i?getTransferablePointer$LWS(i):"undefined"==typeof i?void 0:i)}catch(t){var L;const e=null!=(L=qt)?L:t;throw qt=void 0,a&&d.error(e),e}return"function"==typeof S?(S(),h=qt,qt=void 0):h=S,a&&d.stop(),h}}function createApplyOrConstructTrapForAnyNumberOfArgs$LWS(t){const e=1&t,o=e?"apply":"construct",r=e?nt:ft;return function(i,s,l){ee=t;const{i:c}=this,u=e?l:s,{length:f}=u;let d;a&&(d=N(`Reflect.${o}(${f})`));const y=e?s:l;let p=2;const S=new n(f+p);let h,L;S[0]=c;try{S[1]="object"==typeof y&&null!==y||"function"==typeof y?getTransferablePointer$LWS(y):"undefined"==typeof y?void 0:y;for(let t=0;t<f;t+=1){const e=u[t];S[p++]="object"==typeof e&&null!==e||"function"==typeof e?getTransferablePointer$LWS(e):"undefined"==typeof e?void 0:e}h=g(r,void 0,S)}catch(t){var $;const e=null!=($=qt)?$:t;throw qt=void 0,a&&d.error(e),e}return"function"==typeof h?(h(),L=qt,qt=void 0):L=h,a&&d.stop(),L}}function createDescriptorFromMeta$LWS(t,e,o,r,n,i){const a={__proto__:null};return t!==et&&(a.configurable=t),e!==et&&(a.enumerable=e),o!==et&&(a.writable=o),n!==et&&("function"==typeof n?(n(),a.get=qt,qt=void 0):a.get=void 0),i!==et&&("function"==typeof i?(i(),a.set=qt,qt=void 0):a.set=void 0),r!==et&&("function"==typeof r?(r(),a.value=qt,qt=void 0):a.value=r),a}function createPointer$LWS(t){return()=>{qt=t}}const ne=Z?t=>{let e=y.get(t);if(void 0===e){const o=Mt(getTransferablePointer$LWS(t));"function"==typeof o&&(o(),e=qt,qt=void 0,e&&y.set(t,e))}return e}:noop$LWS;function getTransferablePointer$LWS(t,e=rt){let o=h.get(t);if(o)return o;const n=Z?t:r(t);if(n!==t&&typeof n!=typeof t)throw new p(`Invalid distortion ${function(t){if("string"==typeof t)return t;try{if("object"==typeof t&&null!==t){const e=g(G,t,[]);return"[object Symbol]"===e?g(Et,t,[]):e}return"function"==typeof t?g(St,t,[]):d(t)}catch(t){}return"[Object Unknown]"}(t)}.`);let i=!0,a=0,s=0,l=16;if("function"==typeof n){i=!1,a=0,l=4;try{"prototype"in n||(l|=8);const e=T(t,"length");if(e){x(e,null);const{value:t}=e;"number"==typeof t&&(a=t)}void 0}catch(t){i=!0}}else if(ct(n)){i=!1,l=2;try{s=g(At,n,[]),l|=32}catch(t){i=!0}}if(i)try{it(n)&&(l=1)}catch(t){l=64}return o=e(createPointer$LWS(n),l,a,"",s),h.set(t,o),o}const ie=Z?t=>{if(Dt)return;Dt=!0;const e=it(t)&&t.length>0,o=e?{__proto__:null}:void 0,r=e?(e,o)=>g(at,t,[o])?{configurable:!1,enumerable:g(D,e,[o]),get:n(o),set:void 0}:T(e,o):void 0,n=e?t=>{let e=o[t];return void 0===e&&(e=g(pt,s,[]),o[t]=e),e}:void 0,i=e?(e,o)=>g(at,t,[o])?n(o):g(z,e,[o]):void 0,a=e?(e,o)=>g(at,t,[o])?void 0:g(X,e,[o]):void 0,s=e?()=>Ct:void 0,wrapDefineAccessOrProperty$LWS=t=>{const{length:e}=t,o=2===e;return new c(t,{apply(r,n,i){if(i.length>=e){const t=o?n:i[0];if("object"==typeof t&&null!==t||"function"==typeof t){const e=o?i[0]:i[1],r=ne(t);null!=r&&r[e]&&t[e]}}return g(t,n,i)}})},wrapLookupAccessor$LWS=(t,o)=>new c(t,{apply(r,n,i){if(i.length&&("object"==typeof n&&null!==n||"function"==typeof n)){const{0:t}=i,r=ne(n);if(null!=r&&r[t]&&n[t],e&&n===Ct)return o(n,t)}return g(t,n,i)}}),wrapGetOwnPropertyDescriptor$LWS=t=>new c(t,{apply(o,n,i){if(i.length>1){const{0:t,1:o}=i;if("object"==typeof t&&null!==t||"function"==typeof t){const n=ne(t);if(null!=n&&n[o]&&t[o],e&&t===Ct)return r(t,o)}}return g(t,n,i)}});try{u.defineProperty=wrapDefineAccessOrProperty$LWS(W)}catch(t){}try{u.getOwnPropertyDescriptor=wrapGetOwnPropertyDescriptor$LWS(T)}catch(t){}try{l.getOwnPropertyDescriptor=wrapGetOwnPropertyDescriptor$LWS(F)}catch(t){}try{l.getOwnPropertyDescriptors=new c(f=j,{apply(t,o,n){const i=n.length?n[0]:void 0;if(("object"!=typeof i||null===i)&&"function"!=typeof i)return g(f,o,n);const a=ne(i),s=i===Ct&&e,l=s?{}:g(f,o,n);if(!s&&void 0===a)return l;const c=O(s?i:l);for(let t=0,{length:e}=c;t<e;t+=1){const e=c[t],o=!(null==a||!a[e]);if(o&&i[e],o||s){const t=s?r(i,e):T(i,e);t?l[e]=t:s||v(l,e)}}return l}})}catch(t){}var f;try{I.__defineGetter__=wrapDefineAccessOrProperty$LWS(U)}catch(t){}try{I.__defineSetter__=wrapDefineAccessOrProperty$LWS(V)}catch(t){}try{I.__lookupGetter__=wrapLookupAccessor$LWS(z,i)}catch(t){}try{I.__lookupSetter__=wrapLookupAccessor$LWS(X,a)}catch(t){}}:noop$LWS;function lookupForeignDescriptor$LWS(t,e,o){let r,n,i;a&&(r=N("lookupForeignDescriptor"));try{n=Yt(t,o,(t,r,n,a,s,l,c)=>{i={__proto__:null,l:!0},r!==et&&(i.configurable=r),n!==et&&(i.enumerable=n),a!==et&&(i.writable=a),l!==et&&("function"==typeof l?(l(),i.get=qt,qt=void 0):i.get=void 0),c!==et&&("function"==typeof c?(c(),i.set=qt,qt=void 0):i.set=void 0),s!==et&&("function"==typeof s?(s(),i.value=qt,qt=void 0):i.value=s),!1===r&&W(e,o,i)})}catch(t){var s;const e=null!=(s=qt)?s:t;throw qt=void 0,a&&r.error(e),e}if(void 0===i){let t;for("function"==typeof n?(n(),t=qt,qt=void 0):t=null;t;){if(i=T(t,o),i){x(i,null);break}t=P(t)}if(i){var l;const{get:t,set:e,value:o}=i,r=null!=(l=null!=t?t:e)?l:o;i.l=("object"==typeof r&&null!==r||"function"==typeof r)&&void 0!==h.get(r)}}return a&&r.stop(),i}function pushErrorAcrossBoundary$LWS(t){if(ot&&re(),"object"==typeof t&&null!==t||"function"==typeof t){getTransferablePointer$LWS(t,K)()}return t}function pushTarget$LWS(t,e,o,r,n){const{proxy:i}=new BoundaryProxyHandler$LWS(t,e,o,r,n);return h.set(i,t),createPointer$LWS(i)}const ae=Z?(t,e)=>{y.set(t,e),zt(getTransferablePointer$LWS(t),getTransferablePointer$LWS(e))}:noop$LWS;class BoundaryProxyHandler$LWS{constructor(t,e,o,r,n){let i;const a=1&e,l=4&e;i=l?8&e?()=>{}:function(){}:a?[]:{};const{proxy:c,revoke:u}=$t(i,this);var d,y;(this.i=t,this.u=e,this.p=n,this.S=(t,e,o,r,n,i,a)=>{W(this.h,t,createDescriptorFromMeta$LWS(e,o,r,n,i,a))},this.proxy=c,this.revoke=u,this.serializedValue=void 0,this.h=i,this.L="Object",l)&&(this.apply=this[null!=(d=s[o])?d:s.n],this.construct=this[null!=(y=f[o])?y:f.n]);if(this.defineProperty=BoundaryProxyHandler$LWS.g,this.deleteProperty=BoundaryProxyHandler$LWS.$,this.isExtensible=BoundaryProxyHandler$LWS.W,this.getOwnPropertyDescriptor=BoundaryProxyHandler$LWS.v,this.getPrototypeOf=BoundaryProxyHandler$LWS.T,this.get=32&e?BoundaryProxyHandler$LWS.hybridGetTrapForTypedArray:BoundaryProxyHandler$LWS.P,this.has=BoundaryProxyHandler$LWS.m,this.ownKeys=BoundaryProxyHandler$LWS.O,this.preventExtensions=BoundaryProxyHandler$LWS._,this.setPrototypeOf=BoundaryProxyHandler$LWS.A,this.set=BoundaryProxyHandler$LWS.B,64&e)M(this),this.revoke();else if(Z)(a||2&e)&&this.M();else{if(16&e){let t=et;g(U,this,["serializedValue",()=>(t===et&&(t=Vt(this.i)),t)])}M(this)}}M(){this.deleteProperty=BoundaryProxyHandler$LWS.F,this.defineProperty=BoundaryProxyHandler$LWS.j,this.preventExtensions=BoundaryProxyHandler$LWS.H,this.set=BoundaryProxyHandler$LWS.k,this.setPrototypeOf=BoundaryProxyHandler$LWS.R,M(this)}I(){this.defineProperty=BoundaryProxyHandler$LWS.C,this.deleteProperty=BoundaryProxyHandler$LWS.N,this.get=BoundaryProxyHandler$LWS.D,this.getOwnPropertyDescriptor=BoundaryProxyHandler$LWS.G,this.getPrototypeOf=BoundaryProxyHandler$LWS.K,this.has=BoundaryProxyHandler$LWS.U,this.isExtensible=BoundaryProxyHandler$LWS.V,this.ownKeys=BoundaryProxyHandler$LWS.X,this.preventExtensions=BoundaryProxyHandler$LWS.Z,this.set=BoundaryProxyHandler$LWS.J,this.setPrototypeOf=BoundaryProxyHandler$LWS.Y;const{i:t,u:e,h:o}=this,r=Ft(t);if(8&r)return M(this),this.revoke(),void 0;try{copyForeignOwnPropertyDescriptorsAndPrototypeToShadowTarget$LWS(t,o)}catch(e){if(Ut(t))return M(this),this.revoke(),void 0}if(16&e&&!(L in o)){let e="Object";try{e=jt(t)}catch(t){}this.L=e}4&r?M(o):(2&r?C(o):1&r&&_(o),LOCKER_UNMINIFIED_FLAG$LWS&&Bt("Mutations on the membrane of an object originating outside of the sandbox will not be reflected on the object itself:",t)),M(this)}static j(t,e,o){let r;ee=4,a&&(r=N("Reflect.defineProperty"));const{i:n,S:i}=this,s=o;x(s,null);const{get:l,set:c,value:u}=s,f="value"in s?"object"==typeof u&&null!==u||"function"==typeof u?getTransferablePointer$LWS(u):"undefined"==typeof u?void 0:u:et,d="get"in s?"function"==typeof l?getTransferablePointer$LWS(l):l:et,y="set"in s?"function"==typeof c?getTransferablePointer$LWS(c):c:et;let p=!1;try{p=dt(n,e,"configurable"in s?!!s.configurable:et,"enumerable"in s?!!s.enumerable:et,"writable"in s?!!s.writable:et,f,d,y,i)}catch(t){var S;const e=null!=(S=qt)?S:t;throw qt=void 0,a&&r.error(e),e}return a&&r.stop(),p}static F(t,e){let o;ee=8,a&&(o=N("Reflect.deleteProperty"));let r=!1;try{r=yt(this.i,e)}catch(t){var n;const e=null!=(n=qt)?n:t;throw qt=void 0,a&&o.error(e),e}return a&&o.stop(),r}static q(t){let e,o,r;ee=64,a&&(e=N("Reflect.getPrototypeOf"));try{o=vt(this.i)}catch(t){var n;const o=null!=(n=qt)?n:t;throw qt=void 0,a&&e.error(o),o}return"function"==typeof o?(o(),r=qt,qt=void 0):r=null,a&&e.stop(),r}static tt(t){let e;ee=256,a&&(e=N("Reflect.isExtensible"));const{h:o}=this;let r=!1;if(m(o)){const{i:t}=this;try{r=Tt(t)}catch(t){var n;const o=null!=(n=qt)?n:t;throw qt=void 0,a&&e.error(o),o}r||(copyForeignOwnPropertyDescriptorsAndPrototypeToShadowTarget$LWS(t,o),_(o))}return a&&e.stop(),r}static et(t){let e,o;ee=512,a&&(e=N("Reflect.ownKeys"));try{Pt(this.i,(...t)=>{o=t})}catch(t){var r;const o=null!=(r=qt)?r:t;throw qt=void 0,a&&e.error(o),o}return a&&e.stop(),o||[]}static ot(t,e){let o;ee=32,a&&(o=N("Reflect.getOwnPropertyDescriptor"));const{i:r,h:n}=this;let i;try{gt(r,e,(t,o,r,a,s,l,c)=>{i=createDescriptorFromMeta$LWS(o,r,a,s,l,c),!1===i.configurable&&W(n,e,i)})}catch(t){var s;const e=null!=(s=qt)?s:t;throw qt=void 0,a&&o.error(e),e}return a&&o.stop(),i}static H(t){let e;ee=1024,a&&(e=N("Reflect.preventExtensions"));const{i:o,h:r}=this;let n=!0;if(m(r)){let t=0;try{t=mt(o)}catch(t){var i;const o=null!=(i=qt)?i:t;throw qt=void 0,a&&e.error(o),o}1&t||(copyForeignOwnPropertyDescriptorsAndPrototypeToShadowTarget$LWS(o,r),_(r)),n=!(2&t)}return a&&e.stop(),n}static R(t,e){let o;ee=4096,a&&(o=N("Reflect.setPrototypeOf"));const r=e?getTransferablePointer$LWS(e):e;let n=!1;try{n=xt(this.i,r)}catch(t){var i;const e=null!=(i=qt)?i:t;throw qt=void 0,a&&o.error(e),e}return a&&o.stop(),n}static k(t,e,o,r){ee=2048;const{i:n,proxy:i,h:s}=this;"undefined"==typeof o&&(o=void 0),"undefined"==typeof r&&(r=i);const l=i===r;let c;a&&(c=N(l?"Reflect.set":"passthruForeignTraversedSet"));let u=!1;try{u=l?_t(n,e,"object"==typeof o&&null!==o||"function"==typeof o?getTransferablePointer$LWS(o):o,et):function(t,e,o,r,n){const i=lookupForeignDescriptor$LWS(t,e,o);if(i){if("get"in i||"set"in i){const{set:t}=i;return!!t&&(i.l?nt(getTransferablePointer$LWS(t),"object"==typeof n&&null!==n||"function"==typeof n?getTransferablePointer$LWS(n):"undefined"==typeof n?void 0:n,"object"==typeof r&&null!==r||"function"==typeof r?getTransferablePointer$LWS(r):"undefined"==typeof r?void 0:r):g(t,n,[r]),!0)}if(!1===i.writable)return!1}if(("object"!=typeof n||null===n)&&"function"!=typeof n)return!1;const a=T(n,o);return a?(x(a,null),!("get"in a)&&!("set"in a)&&!1!==a.writable&&(W(n,o,{__proto__:null,value:r}),!0)):W(n,o,{__proto__:null,configurable:!0,enumerable:!0,value:r,writable:!0})}(n,s,e,o,r)}catch(t){var f;const e=null!=(f=qt)?f:t;throw qt=void 0,a&&c.error(e),e}return a&&c.stop(),u}}BoundaryProxyHandler$LWS.rt=Z?function(t,e,o){let r;a&&(r=N("hybridGetTrap"));const{i:n,u:i,proxy:s,h:l}=this,c=lookupForeignDescriptor$LWS(n,l,e);let u;if(c){const{get:t,value:e}=c;if(t)if(c.l){const e=getTransferablePointer$LWS(t),i=s===o?n:"object"==typeof o&&null!==o||"function"==typeof o?getTransferablePointer$LWS(o):o;let l;try{l=nt(e,i)}catch(t){var f;const e=null!=(f=qt)?f:t;throw qt=void 0,a&&r.error(e),e}"function"==typeof l?(l(),u=qt,qt=void 0):u=l}else u=g(t,o,[]);else u=e}else if(e===L&&16&i){let t;try{t=jt(n)}catch(t){var d;const e=null!=(d=qt)?d:t;throw qt=void 0,a&&r.error(e),e}"Object"!==t&&(u=t)}return a&&r.stop(),u}:noop$LWS,BoundaryProxyHandler$LWS.hybridGetTrapForTypedArray=Z?function(t,e,o){let r;a&&(r=N("hybridGetTrapForTypedArray"));const{i:n,p:i,proxy:s,h:l}=this,c="string"==typeof e?+e:-1;let u;if(c>-1&&c<i&&Lt(c))try{u=Ht(n,e)}catch(t){var f;const e=null!=(f=qt)?f:t;throw qt=void 0,a&&r.error(e),e}else{const t=lookupForeignDescriptor$LWS(n,l,e);if(t){const{get:e,value:i}=t;if(e)if(t.l){const t=getTransferablePointer$LWS(e),i=s===o?n:"object"==typeof o&&null!==o||"function"==typeof o?getTransferablePointer$LWS(o):o;let l;try{l=nt(t,i)}catch(t){var d;const e=null!=(d=qt)?d:t;throw qt=void 0,a&&r.error(e),e}"function"==typeof l?(l(),u=qt,qt=void 0):u=l}else u=g(e,o,[]);else u=i}}return a&&r.stop(),u}:noop$LWS,BoundaryProxyHandler$LWS.nt=Z?function(t,e){let o,r;a&&(o=N("hybridHasTrap"));try{r=Qt(this.i,e)}catch(t){var n;const e=null!=(n=qt)?n:t;throw qt=void 0,a&&o.error(e),e}let i=!1;if(!0===r)i=!0;else{let t;for("function"==typeof r?(r(),t=qt,qt=void 0):t=null;t;){if(Q(t,e)){i=!0;break}t=P(t)}}return a&&o.stop(),i}:alwaysFalse$LWS,BoundaryProxyHandler$LWS.it=Z?noop$LWS:function(t,e,o){if(te&&(te=128===ee),ee=16,te){if(e===tt)return!0;if(e===q)return this.serializedValue}let r;a&&(r=N("Reflect.get"));const{i:n,u:i,proxy:s}=this;"undefined"==typeof o&&(o=s);const l=s===o?et:"object"==typeof o&&null!==o||"function"==typeof o?getTransferablePointer$LWS(o):o;let c,u;try{c=ht(n,i,e,l)}catch(t){var f;const e=null!=(f=qt)?f:t;throw qt=void 0,a&&r.error(e),e}return"function"==typeof c?(c(),u=qt,qt=void 0):u=c,a&&r.stop(),u},BoundaryProxyHandler$LWS.st=Z?alwaysFalse$LWS:function(t,e){let o,r;ee=128,a&&(o=N("Reflect.has"));try{r=bt(this.i,e)}catch(t){var n;const e=null!=(n=qt)?n:t;throw qt=void 0,a&&o.error(e),e}return te=!r&&(e===tt||e===q),a&&o.stop(),r},BoundaryProxyHandler$LWS.lt=Z?function(t,e,o){return Kt(this.i)?this.M():this.I(),this.defineProperty(t,e,o)}:alwaysFalse$LWS,BoundaryProxyHandler$LWS.ct=Z?function(t,e){return Kt(this.i)?this.M():this.I(),this.deleteProperty(t,e)}:alwaysFalse$LWS,BoundaryProxyHandler$LWS.ut=Z?function(t){return Kt(this.i)?this.M():this.I(),this.preventExtensions(t)}:alwaysFalse$LWS,BoundaryProxyHandler$LWS.ft=Z?function(t,e){return Kt(this.i)?this.M():this.I(),this.setPrototypeOf(t,e)}:alwaysFalse$LWS,BoundaryProxyHandler$LWS.dt=Z?function(t,e,o,r){return Kt(this.i)?this.M():this.I(),this.set(t,e,o,r)}:alwaysFalse$LWS,BoundaryProxyHandler$LWS.C=Z?W:alwaysFalse$LWS,BoundaryProxyHandler$LWS.N=Z?v:alwaysFalse$LWS,BoundaryProxyHandler$LWS.G=Z?T:noop$LWS,BoundaryProxyHandler$LWS.K=Z?P:()=>null,BoundaryProxyHandler$LWS.D=Z?function(t,e,o){const{u:r,L:n}=this,i=b(t,e,o);return void 0===i&&e===L&&16&r&&"Object"!==n&&!(e in t)?n:i}:noop$LWS,BoundaryProxyHandler$LWS.U=Z?w:alwaysFalse$LWS,BoundaryProxyHandler$LWS.V=Z?m:alwaysFalse$LWS,BoundaryProxyHandler$LWS.X=Z?O:()=>[],BoundaryProxyHandler$LWS.Z=Z?_:alwaysFalse$LWS,BoundaryProxyHandler$LWS.Y=Z?x:alwaysFalse$LWS,BoundaryProxyHandler$LWS.J=Z?E:alwaysFalse$LWS,BoundaryProxyHandler$LWS.g=Z?BoundaryProxyHandler$LWS.lt:BoundaryProxyHandler$LWS.j,BoundaryProxyHandler$LWS.$=Z?BoundaryProxyHandler$LWS.ct:BoundaryProxyHandler$LWS.F,BoundaryProxyHandler$LWS.v=BoundaryProxyHandler$LWS.ot,BoundaryProxyHandler$LWS.T=BoundaryProxyHandler$LWS.q,BoundaryProxyHandler$LWS.P=Z?BoundaryProxyHandler$LWS.rt:BoundaryProxyHandler$LWS.it,BoundaryProxyHandler$LWS.m=Z?BoundaryProxyHandler$LWS.nt:BoundaryProxyHandler$LWS.st,BoundaryProxyHandler$LWS.W=BoundaryProxyHandler$LWS.tt,BoundaryProxyHandler$LWS.O=BoundaryProxyHandler$LWS.et,BoundaryProxyHandler$LWS._=Z?BoundaryProxyHandler$LWS.ut:BoundaryProxyHandler$LWS.H,BoundaryProxyHandler$LWS.B=Z?BoundaryProxyHandler$LWS.dt:BoundaryProxyHandler$LWS.k,BoundaryProxyHandler$LWS.A=Z?BoundaryProxyHandler$LWS.ft:BoundaryProxyHandler$LWS.R,e(createPointer$LWS(Ct),Z?noop$LWS:()=>{const t=qt;return qt=void 0,t},t=>"object"==typeof t&&null!==t||"function"==typeof t?getTransferablePointer$LWS(t):"undefined"==typeof t?void 0:t,(t,e)=>{t();const o=qt;qt=void 0;const r=null==o?void 0:o[e];return createPointer$LWS("undefined"==typeof r?void 0:r)},Z?t=>{let e;try{e=It(t)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}return"object"==typeof e&&null!==e||"function"==typeof e?getTransferablePointer$LWS(e):e}:noop$LWS,(t,e)=>{t();const o=qt;qt=void 0,("object"==typeof o&&null!==o||"function"==typeof o)&&h.set(o,e)},ot?(t,e,o,r,n)=>{const i=pushTarget$LWS(t,e,o,r,n);return()=>(re(),i())}:pushTarget$LWS,pushTarget$LWS,(t,e,...o)=>{t();const r=qt;let n,i;qt=void 0,"function"==typeof e&&(e(),n=qt,qt=void 0);for(let t=0,{length:e}=o;t<e;t+=1){const e=o[t];"function"==typeof e&&(e(),o[t]=qt,qt=void 0)}try{i=g(r,n,o)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}return"object"==typeof i&&null!==i||"function"==typeof i?getTransferablePointer$LWS(i):"undefined"==typeof i?void 0:i},(t,e,...o)=>{t();const r=qt;let n,i;qt=void 0,"function"==typeof e&&(e(),n=qt,qt=void 0);for(let t=0,{length:e}=o;t<e;t+=1){const e=o[t];"function"==typeof e&&(e(),o[t]=qt,qt=void 0)}try{i=$(r,o,n)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}return"object"==typeof i&&null!==i||"function"==typeof i?getTransferablePointer$LWS(i):"undefined"==typeof i?void 0:i},(t,e,o,r,n,i,a,s,l)=>{t();const c=qt;qt=void 0;const u=createDescriptorFromMeta$LWS(o,r,n,i,a,s);let f=!1;try{f=W(c,e,u)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}if(f&&!1===o){let t;try{t=T(c,e)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}if(t&&(x(t,null),!1===t.configurable)){const{get:o,set:r,value:n}=t;l(e,!1,"enumerable"in t?t.enumerable:et,"writable"in t?t.writable:et,"value"in t?"object"==typeof n&&null!==n||"function"==typeof n?getTransferablePointer$LWS(n):n:et,"get"in t?"function"==typeof o?getTransferablePointer$LWS(o):o:et,"set"in t?"function"==typeof r?getTransferablePointer$LWS(r):r:et)}}return f},(t,e)=>{t();const o=qt;qt=void 0;try{return v(o,e)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}},(t,e,o,r)=>{t();const n=qt;let i,a;qt=void 0,"function"==typeof r?(r(),i=qt,qt=void 0):i=r===et?n:r;try{a=b(n,o,i)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}if("object"==typeof a&&null!==a||"function"==typeof a)return getTransferablePointer$LWS(a);if(void 0===a&&o===L&&16&e)try{if(!(o in n)){const t=g(G,n,[]);"[object Object]"!==t&&(a=g(Ot,t,[8,-1]))}}catch(t){throw pushErrorAcrossBoundary$LWS(t)}return"undefined"==typeof a?void 0:a},(t,e,o)=>{t();const r=qt;let n;qt=void 0;try{n=T(r,e)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}if(n){x(n,null);const{get:t,set:r,value:i}=n;o(e,"configurable"in n?n.configurable:et,"enumerable"in n?n.enumerable:et,"writable"in n?n.writable:et,"value"in n?"object"==typeof i&&null!==i||"function"==typeof i?getTransferablePointer$LWS(i):"undefined"==typeof i?void 0:i:et,"get"in n?"function"==typeof t?getTransferablePointer$LWS(t):t:et,"set"in n?"function"==typeof r?getTransferablePointer$LWS(r):r:et)}},t=>{t();const e=qt;let o;qt=void 0;try{o=P(e)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}return"undefined"==typeof o?null:o?getTransferablePointer$LWS(o):o},(t,e)=>{t();const o=qt;qt=void 0;try{return e in o}catch(t){throw pushErrorAcrossBoundary$LWS(t)}},t=>{t();const e=qt;qt=void 0;try{return m(e)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}},(t,e)=>{t();const o=qt;let r;qt=void 0;try{r=O(o)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}g(e,void 0,r)},t=>{t();const e=qt;qt=void 0;let o=2;try{_(e)?o=4:m(e)&&(o|=1)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}return o},(t,e,o,r)=>{t();const n=qt;let i,a;qt=void 0,"function"==typeof o?(o(),i=qt,qt=void 0):i=o,"function"==typeof r?(r(),a=qt,qt=void 0):a=r===et?n:r;try{return E(n,e,i,a)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}},(t,e=null)=>{t();const o=qt;let r;qt=void 0,"function"==typeof e?(e(),r=qt,qt=void 0):r=null;try{return x(o,r)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}},ot?(...t)=>{if(re()){for(let e=0,{length:o}=t;e<o;e+=1){const o=t[e];"function"==typeof o&&(o(),t[e]=qt,qt=void 0)}try{g(Rt,kt,t)}catch(t){}}}:noop$LWS,Z?(t,...e)=>{t();const o=qt;qt=void 0;for(let t=0,{length:r}=e;t<r;t+=7)W(o,e[t],createDescriptorFromMeta$LWS(e[t+1],e[t+2],e[t+3],e[t+4],e[t+5],e[t+6]))}:noop$LWS,Z?noop$LWS:t=>{t();const e=qt;qt=void 0;const o=ge.get(e);return o?getTransferablePointer$LWS(o):o},Z?()=>0:t=>{t();const e=qt;qt=void 0;try{if(!m(e))return H(e)||k(e)?0:1}catch(t){try{it(e)}catch(t){return 8}}return 0},t=>{t();const e=qt;qt=void 0;try{const t=g(G,e,[]);return"[object Object]"===t?"Object":g(Ot,t,[8,-1])}catch(t){throw pushErrorAcrossBoundary$LWS(t)}},Z?noop$LWS:(t,e)=>{t();const o=qt;qt=void 0;try{return o[e]}catch(t){throw pushErrorAcrossBoundary$LWS(t)}},Gt,Z?(t,...e)=>{const o=g(st,e,[et]);let r,n;-1===o?r=e:(r=g(lt,e,[0,o]),n=g(lt,e,[o+1])),t();const i=qt;qt=void 0;let a=ne(i);void 0===a&&(a={__proto__:null},ae(i,a));for(let t=0,{length:e}=r;t<e;t+=1){const e=r[t];a[e]=!0,W(i,e,{__proto__:null,configurable:!0,get:()=>(oe(i,e,a),i[e]),set(t){oe(i,e,a),E(i,e,t)}})}ie(n)}:noop$LWS,Z?alwaysFalse$LWS:t=>{t();const e=qt;if(qt=void 0,null==e||e===I||e===Wt)return!1;if("function"==typeof e){try{return Q(e,Y)}catch(t){}return!1}if("object"==typeof e){let t;try{if(({constructor:t}=e),t===l)return!0}catch(t){}try{if(Q(e,Y))return!0}catch(t){}try{if(null===P(e)&&("function"!=typeof t||t.prototype!==e))return!0}catch(t){}try{if(Q(e,"lastIndex"))return g(wt,e,[]),!0}catch(t){}try{if("byteLength"in e)return g(ut,e,[]),!0}catch(t){}}return!1},Z?alwaysFalse$LWS:t=>{t();const e=qt;qt=void 0;try{return it(e),!1}catch(t){}return!0},Z?t=>{t();const e=qt;qt=void 0;try{return L in e?Jt(e):Zt(e)}catch(t){}}:noop$LWS,Z?noop$LWS:(t,e)=>{t();const o=qt;qt=void 0,e();const r=qt;qt=void 0,ge.set(o,r)},(t,e)=>{t();const o=qt;let r;qt=void 0;try{r=j(o)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}const i=O(r),{length:a}=i,s=new n(7*a);for(let t=0,e=0;t<a;t+=1,e+=7){const o=i[t],n=r[o];x(n,null);const{get:a,set:l,value:c}=n;s[e]=o,s[e+1]="configurable"in n?n.configurable:et,s[e+2]="enumerable"in n?n.enumerable:et,s[e+3]="writable"in n?n.writable:et,s[e+4]="value"in n?"object"==typeof c&&null!==c||"function"==typeof c?getTransferablePointer$LWS(c):c:et,s[e+5]="get"in n?"function"==typeof a?getTransferablePointer$LWS(a):a:et,s[e+6]="set"in n?"function"==typeof l?getTransferablePointer$LWS(l):l:et}let l;g(e,void 0,s);try{l=P(o)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}return"undefined"==typeof l?null:l?getTransferablePointer$LWS(l):l},(t,e)=>{t();const o=qt;let r;qt=void 0;try{if(Q(o,e))return!0;r=P(o)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}return"undefined"==typeof r?null:r?getTransferablePointer$LWS(r):r},(t,e,o)=>{t();const r=qt;let n,i;qt=void 0;try{n=T(r,e)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}if(n){x(n,null);const{get:t,set:r,value:i}=n;return o(e,"configurable"in n?n.configurable:et,"enumerable"in n?n.enumerable:et,"writable"in n?n.writable:et,"value"in n?"object"==typeof i&&null!==i||"function"==typeof i?getTransferablePointer$LWS(i):"undefined"==typeof i?void 0:i:et,"get"in n?"function"==typeof t?getTransferablePointer$LWS(t):t:et,"set"in n?"function"==typeof r?getTransferablePointer$LWS(r):r:et),void 0}try{i=P(r)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}return"undefined"==typeof i?null:i?getTransferablePointer$LWS(i):i});let se=!1;return(...t)=>{if(se)return;se=!0,({6:K,7:rt,8:nt,9:ft,10:dt,11:yt,12:ht,13:gt,14:vt,15:bt,16:Tt,17:Pt,18:mt,19:_t,20:xt,21:Bt,23:Mt,24:Ft,25:jt,26:Ht,27:Nt,29:Kt,30:Ut,31:Vt,32:zt,33:Xt,34:Qt,35:Yt}=t);const e=createApplyOrConstructTrapForZeroOrMoreArgs$LWS(1),o=createApplyOrConstructTrapForOneOrMoreArgs$LWS(1),r=createApplyOrConstructTrapForTwoOrMoreArgs$LWS(1),n=createApplyOrConstructTrapForThreeOrMoreArgs$LWS(1),i=createApplyOrConstructTrapForFourOrMoreArgs$LWS(1),a=createApplyOrConstructTrapForFiveOrMoreArgs$LWS(1),l=createApplyOrConstructTrapForAnyNumberOfArgs$LWS(1),c=createApplyOrConstructTrapForZeroOrMoreArgs$LWS(2),u=createApplyOrConstructTrapForOneOrMoreArgs$LWS(2),d=createApplyOrConstructTrapForTwoOrMoreArgs$LWS(2),y=createApplyOrConstructTrapForThreeOrMoreArgs$LWS(2),p=createApplyOrConstructTrapForFourOrMoreArgs$LWS(2),S=createApplyOrConstructTrapForFiveOrMoreArgs$LWS(2),h=createApplyOrConstructTrapForAnyNumberOfArgs$LWS(2),L=R({yt:e,St:o,ht:r,Lt:n,gt:i,$t:a,Wt:l,vt:c,bt:u,Tt:d,Pt:y,wt:p,Ot:S,_t:h});s[0]=L[0],s[1]=L[1],s[2]=L[2],s[3]=L[3],s[4]=L[4],s[5]=L[5],s.n=L[6],f[0]=L[7],f[1]=L[8],f[2]=L[9],f[3]=L[10],f[4]=L[11],f[5]=L[12],f.n=L[13];const{prototype:g}=BoundaryProxyHandler$LWS;g[s[0]]=e,g[s[1]]=o,g[s[2]]=r,g[s[3]]=n,g[s[4]]=i,g[s[5]]=a,g[s.n]=l,g[f[0]]=c,g[f[1]]=u,g[f[2]]=d,g[f[3]]=y,g[f[4]]=p,g[f[5]]=S,g[f.n]=h,x(g,null),M(g)}}}const $e=TypeError,We=`\n'use strict';\n(${createMembraneMarshall$LWS})`;function createRedConnector$LWS(t){if("function"!=typeof t)throw new $e("Missing evaluator function.");return t(We)()}const ve=Symbol.for("@@lockerNearMembraneUndefinedValue"),be=Array,Te=Error,Pe=Object,{push:we}=be.prototype,{assign:me}=Pe,{apply:Oe,ownKeys:_e}=Reflect;class VirtualEnvironment$LWS{constructor(t){if(void 0===t)throw new Te("Missing VirtualEnvironmentOptions options bag.");const{Et:e,distortionCallback:o,instrumentation:r,redConnector:n}=me({__proto__:null},t);let i;const a=e("blue",(...t)=>{i=t},{distortionCallback:o,instrumentation:r}),{0:s,1:l,2:c,3:u,5:f,6:d,7:y,8:p,9:S,10:h,11:L,12:g,13:$,14:W,15:v,16:b,17:T,18:P,19:w,20:m,21:O,23:_,24:E,25:x,26:A,27:B,29:M,30:F,31:j,32:H,33:k,34:R,35:I}=i;let C;const N=n("red",(...t)=>{C=t}),{0:D,3:G,4:K,5:U,6:V,7:z,8:X,9:Q,10:Z,11:J,12:Y,13:q,14:tt,15:et,16:ot,17:rt,18:nt,19:it,20:at,21:st,22:lt,23:ct,24:ut,25:ft,26:dt,27:yt,28:pt,29:St,30:ht,31:Lt,32:gt,33:$t,34:Wt,35:vt}=C;a(void 0,void 0,void 0,void 0,void 0,void 0,V,z,X,Q,Z,J,Y,q,tt,et,ot,rt,nt,it,at,st,void 0,ct,ut,ft,dt,yt,void 0,St,ht,Lt,gt,$t,Wt,vt),N(void 0,void 0,void 0,void 0,void 0,void 0,d,y,p,S,h,L,g,$,W,v,b,T,P,w,m,O,void 0,_,E,x,A,B,void 0,M,F,j,H,k,R,I),this.xt=s,this.At=l,this.Bt=c,this.Mt=u,this.Ft=f,this.redGlobalThisPointer=D,this.jt=G,this.Ht=K,this.kt=U,this.Rt=at,this.It=lt,this.Ct=pt}evaluate(t){try{const e=this.Ht(t);return"function"==typeof e?(e(),this.At()):e}catch(t){var e;throw null!=(e=this.At())?e:t}}Nt(t,e,o){if("object"==typeof t&&null!==t||"function"==typeof t){const r=[this.Bt(t)];Oe(we,r,e),null!=o&&o.length&&(r[r.length]=ve,Oe(we,r,o)),Oe(this.Ct,void 0,r)}}link(...t){let e=this.xt,o=this.redGlobalThisPointer;for(let r=0,{length:n}=t;r<n;r+=1){const n=t[r];e=this.Mt(e,n),o=this.jt(o,n),this.kt(o,e),this.Ft(e,o)}}Dt(t,e){if("object"==typeof t&&null!==t||"function"==typeof t){const o=this.Bt(t),r=_e(e),{length:n}=r,i=new be(1+7*n);i[0]=o;for(let t=0,o=1;t<n;t+=1,o+=7){const n=r[t],a=e[n],s=me({__proto__:null},a);i[o]=n,i[o+1]="configurable"in s?!!s.configurable:ve,i[o+2]="enumerable"in s?!!s.enumerable:ve,i[o+3]="writable"in s?!!s.writable:ve,i[o+4]="value"in s?this.Bt(s.value):ve,i[o+5]="get"in s?this.Bt(s.get):ve,i[o+6]="set"in s?this.Bt(s.set):ve}Oe(this.It,this,i)}}Gt(t,e){if("object"==typeof t&&null!==t||"function"==typeof t){const o=this.Bt(t),r=e?this.Bt(e):e;this.Rt(o,r)}}}const{assign:Ee}=Object,{ownKeys:xe}=Reflect,Ae=["AggregateError","Array","Error","EvalError","Function","Object","Proxy","RangeError","ReferenceError","SyntaxError","TypeError","URIError","eval","globalThis"],Be=(Me=["globalThis","Infinity","NaN","undefined","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","BigInt","Boolean","FinalizationRegistry","Number","RegExp","String","Symbol","WeakRef","JSON","Math","Reflect","escape","unescape",...Ae],Ot(Me,null),Me.at=Bt,Me.concat=Mt,Me.constructor=wt,Me.copyWithin=Ft,Me.entries=jt,Me.every=Ht,Me.fill=kt,Me.filter=Rt,Me.find=It,Me.findIndex=Ct,Me.flat=Nt,Me.flatMap=Dt,Me.forEach=Gt,Me.includes=Kt,Me.indexOf=Ut,Me.join=Vt,Me.keys=zt,Me.lastIndexOf=Xt,Me.map=Qt,Me.pop=Zt,Me.push=Jt,Me.reduce=Yt,Me.reduceRight=qt,Me.reverse=te,Me.shift=ee,Me.slice=oe,Me.some=re,Me.sort=ne,Me.splice=ie,Me.toLocaleString=ae,Me.toString=se,Me.unshift=le,Me.values=ce,Me[_t]=ue,Me[xt]=fe,Ot(Me,At),Me);var Me;function getFilteredGlobalOwnKeys$LWS(t){const e=[];let o=0;const r=xe(t);for(let t=0,{length:n}=r;t<n;t+=1){const n=r[t];Be.includes(n)||(e[o++]=n)}return e}const{deleteProperty:Fe,getPrototypeOf:je,ownKeys:He}=Reflect,ke=toSafeWeakMap$LWS(new WeakMap),Re=(()=>{const{navigator:t,navigator:{userAgentData:e}}=window,o=null==e?void 0:e.brands;if(Array.isArray(o)&&o.length?o.find(t=>"Chromium"===(null==t?void 0:t.brand)):/ (?:Headless)?Chrome\/\d+/.test(t.userAgent))return["window"]})();function getCachedGlobalObjectReferences$LWS(t){const{window:e}=t;let o,r;try{({document:r}=t),o=ke.get(r)}catch(t){return}if(o)return o;const n=je(e),i=je(n),a=je(i);return o={document:r,Kt:je(r),window:e,Ut:je(e),Vt:je(n),zt:a,Xt:He(a)},ke.set(r,o),o}function filterWindowKeys$LWS(t){const e=[];let o=0;for(let r=0,{length:n}=t;r<n;r+=1){const n=t[r];"document"!==n&&"location "!==n&&"top"!==n&&"window"!==n&&"chrome"!==n&&(e[o++]=n)}return e}getCachedGlobalObjectReferences$LWS(window);const Ie=Object,Ce=TypeError,Ne=WeakMap,{prototype:De}=Document,{prototype:Ge}=Node,{remove:Ke,setAttribute:Ue}=Element.prototype,{appendChild:Ve}=Ge,{assign:ze}=Ie,{__lookupGetter__:Xe}=Ie.prototype,{apply:Qe}=Reflect,{close:Ze,createElement:Je,open:Ye}=De,qe=Qe(Xe,De,["body"]),to=Qe(Xe,HTMLElement.prototype,["style"]),eo=Qe(Xe,HTMLIFrameElement.prototype,["contentWindow"]),oo=Qe(Xe,Ge,["lastChild"]),ro=document,no=toSafeWeakMap$LWS(new Ne);let io=null;function createIframeVirtualEnvironment$LWS(t,e){if("object"!=typeof t||null===t)throw new Ce("Missing global object virtualization target.");const{distortionCallback:o,endowments:r,globalObjectShape:n,instrumentation:i,Qt:a=!1}=ze({__proto__:null},e),s=function(){var t;const e=Qe(Je,ro,["iframe"]),o=null!=(t=Qe(qe,ro,[]))?t:Qe(oo,ro,[]);return Qe(to,e,[]).display="none",Qe(Ue,e,["sandbox","allow-same-origin allow-scripts"]),Qe(Ve,o,[e]),e}(),l=Qe(eo,s,[]),c="object"!=typeof n||null===n;c&&null===io&&(io=filterWindowKeys$LWS(getFilteredGlobalOwnKeys$LWS(l)));const u=getCachedGlobalObjectReferences$LWS(t);if("object"!=typeof u||null===u)throw new Ce("Invalid virtualization target.");let f=no.get(u.document);void 0===f&&(f=function(t){if("object"!=typeof t||null===t)throw new $e("Missing globalObject.");return createMembraneMarshall$LWS(t)}(t),no.set(u.document,f));const d=new VirtualEnvironment$LWS({Et:f,distortionCallback:o,instrumentation:i,redConnector:createRedConnector$LWS(l.eval)});if(!function(t,e){for(let o=0,{length:r}=Ae;o<r;o+=1){const r=Ae[o],n=e[r];n&&(n.prototype?t.link(r,"prototype"):t.link(r))}}(d,t),"undefined"==typeof globalThis?d.link("window","document"):d.link("document"),d.link("__proto__","__proto__","__proto__"),d.Gt(u.document,u.Kt),d.Nt(u.window,c?io:filterWindowKeys$LWS(getFilteredGlobalOwnKeys$LWS(n)),a?void 0:Re),r){const t={};!function(t,e){const o=xe(e);for(let r=0,{length:n}=o;r<n;r+=1){const n=o[r];if(!Be.includes(n)){const o=e[n];o&&(t[n]=Ee({__proto__:null},o))}}return t}(t,r),Fe(y=t,"document"),Fe(y,"location"),Fe(y,"top"),Fe(y,"window"),Fe(y,"chrome"),d.Dt(u.window,t)}var y;if(d.Nt(u.zt,u.Xt),a){const{document:t}=l;Qe(Ye,t,[]),Qe(Ze,t,[])}else Qe(Ke,s,[]);return d}const ao=`'use strict';\n        ${O}(${function(t){const{Zt:e}=t,o=Array,r=Promise,n=TypeError,{asyncIterator:i,iterator:a}=Symbol,{[a]:s}=o.prototype,l=function*(){}.constructor.prototype.prototype,{next:c,throw:u}=l,{delete:f,get:d,set:y}=Map.prototype,{appendChild:p}=Node.prototype,{defineProperties:S,freeze:h}=Object,{then:L}=r.prototype,g=r.resolve.bind(r),{apply:$,getPrototypeOf:W,setPrototypeOf:v}=Reflect,{replace:b}=String.prototype,{get:T,set:P}=WeakMap.prototype,{createElement:w}=Document.prototype,{querySelector:m,setAttribute:O}=Element.prototype,{stopPropagation:_}=Event.prototype,{addEventListener:E,removeEventListener:x}=EventTarget.prototype,{head:A}=document,B=new Map,M=/\\?'/g,F="data-locker-id",j=`${crypto.getRandomValues(new Uint32Array(1))[0]}`;class LockerSecurityError$LWS extends Error{constructor(t){super(`Lightning Web Security: ${t}`)}}function escapeSingleQuotes$LWS(t){return $(b,t,[M,"\\'"])}function genStep$LWS(t,e,o,r,n,i,a){let s,l;try{s=$(i,t,[a]),l=s.value}catch(t){return o(t),void 0}s.done?e(l):g(l).then(r,n)}function loadPromise$LWS(t,o){const n=new r((e,r)=>{function onerror$LWS(e){$(x,t,["error",onerror$LWS]),$(x,t,["load",onload$LWS]),$(_,e,[]),r(new LockerSecurityError$LWS(`Resource loader error loading '${escapeSingleQuotes$LWS(o)}'.`))}function onload$LWS(){$(x,t,["error",onerror$LWS]),$(x,t,["load",onload$LWS]),e(void 0)}$(E,t,["error",onerror$LWS]),$(E,t,["load",onload$LWS])});return $(P,e,[t,n]),$(p,A,[t]),n}function spreadable$LWS(t){return v(t,null),t[a]=s,t}function toString$LWS(t){return"string"==typeof t?t:`${t}`}return{asyncToGen:function(t,e,o){return new r((r,n)=>{const i=$(t,e,o);function next$LWS(t){genStep$LWS(i,r,n,next$LWS,thrower$LWS,c,t)}function thrower$LWS(t){genStep$LWS(i,r,n,next$LWS,thrower$LWS,u,t)}next$LWS(void 0)})},forAwaitOf:function(t,e,o){if(0===e){let e=!1,{[i]:r}=o;if(null==r&&(e=!0,({[a]:r}=o)),"function"!=typeof r)throw new n("Object is not iterable.");return $(y,B,[t,{iterable:$(r,o,[]),step:void 0,sync:e}]),void 0}const s=$(d,B,[t]);if(1===e){const t=s.iterable.next();return s.sync?new r(e=>{s.step=t,e()}):$(L,t,[t=>{s.step=t}])}if(2===e)return s.step.value;if(3===e){const e=!!s.step.done;return e&&$(f,B,[t]),e}},loadScript:function(t,o){const r=toString$LWS(o);let n=$(m,A,[`script[data-distorted-src='${escapeSingleQuotes$LWS(r)}'][data-locker-id='${j}']`]);var i;return n?null!=(i=$(T,e,[n]))?i:g():(n=$(w,document,["script"]),$(O,n,[F,j]),n.type="text/javascript",n.src=r,loadPromise$LWS(n,r))},loadStyle:function(t,o){const r=toString$LWS(o);let n=$(m,A,[`link[href='${escapeSingleQuotes$LWS(r)}']`]);var i;return n?null!=(i=$(T,e,[n]))?i:g():(n=$(w,document,["link"]),n.type="text/css",n.rel="stylesheet",n.href=r,loadPromise$LWS(n,r))},makeRedGet:function(...t){const{length:e}=t,r=o(e),n={};for(let o=0;o<e;o+=1)n[o]={__proto__:null,get:t[o]};return S(r,n),r},makeRedResyncImports:function(t){return function(){for(let e=0,{length:o}=t;e<o;e+=1)try{t[e]}catch(t){}return spreadable$LWS(t)}},namespace:function(t){return h(t)},spreadable:spreadable$LWS,super:function(t,e,o,r){const n=W(t.prototype)[e];return $(n,o,r)}}}})`,so="lws-core-sandbox",lo={[O]:{__proto__:null,get:()=>clearEvalContext$LWS()},[Q]:{__proto__:null,get:()=>clearEvalHelpers$LWS()}},co=(()=>{const{navigator:t,navigator:{userAgentData:o}}=window,r=/WebKit/i,n=null==o?void 0:o.brands;return!(e(n)&&n.length?n.find(t=>{const e=null==t?void 0:t.brand;return"string"==typeof e&&r.test(e)}):r.test(t.userAgent))})(),uo=_(new E),fo=_(new E),yo=x(new A);let po,So;function clearEvalContext$LWS(){const t=po;return po=void 0,t}function clearEvalHelpers$LWS(){const t=So;return So=void 0,t}function createDistortionFactoryEntries$LWS(t,o=function(t){const{globalObject:e,type:o}=t,{Document:r,Element:n,HTMLElement:i,HTMLIFrameElement:a,HTMLScriptElement:s,SVGElement:l,XSLTProcessor:c}=e,u=1===o?U(ot,rt):U(nt,it);at(CustomElementRegistry.prototype,st,u),at(r.prototype,lt,u),at(n.prototype,ct,u),at(i.prototype,ut,u),at(a.prototype,ft,u),at(HTMLEmbedElement.prototype,dt,u),at(HTMLObjectElement.prototype,yt,u),at(s.prototype,pt,u),at(l.prototype,St,u),"function"==typeof c&&at(c.prototype,ht,u);return u}(t)){const{BASIC_INSTRUMENTATION_DATA:r,LOCKER_VERBOSE_DEBUG_MODE_INSTRUMENTATION_FLAG:i,instrumentation:a,key:s}=t,{error:l}=a,c=i?a.startActivity:void 0,u=[];let f=0;for(let a=0,{length:d}=o;a<d;a+=1){const d=o[a],y=d(t);if(!e(y))continue;const{0:p,1:S}=y;if(!C(p))continue;let h=S;if("function"==typeof S){let t;if(i){const{name:e}=d;t=e?n(H,e,[N,""]):"<unknown>"}const e=new D(p,G({apply(o,a,u){let f;a===e&&(a=S),i&&(f=c(t,r));try{return n(S,a,u)}catch(t){throw l({sandboxKey:s,error:t}),t}finally{i&&f.stop()}},construct(o,n,a){let u;a===e&&(a=S),i&&(u=c(t,r));try{return K(S,n,a)}catch(t){throw l({sandboxKey:s,error:t}),t}finally{i&&u.stop()}}}));h=e}u[f++]=[p,h]}return u}function getSandboxRecord$LWS({context:t,document:e,endowments:o,globalObject:r,instrumentation:i,key:a,type:s,verboseInstrumentation:l},c){let u=uo.get(e);void 0===u&&(u={__proto__:null},uo.set(e,u));let f=u[a];if(f)return f;const d="object"==typeof i&&null!==i;let lazyVirtualEnvironmentEvaluator$LWS=t=>{const e=function(t){const{LOCKER_VERBOSE_DEBUG_MODE_INSTRUMENTATION_FLAG:e,Jt:o,endowments:r,globalObject:i,instrumentation:a,key:s,type:l,top:c,top:{Jt:u}}=t,f=t===c,d=createIframeVirtualEnvironment$LWS(i,{distortionCallback(t){const r=u.get(t);if(r)return f?r:o.get(t)||r;if("function"==typeof t||!V(t,"location"))return t;let i,d;if(V(t,"window")&&t.window===t)try{i=n(bt,t,[]),d=t}catch(t){}else if("defaultView"in t){let e;try{e=n(Tt,t,[])}catch(t){}e&&(i=t,d=e)}return d&&getSandboxRecord$LWS({context:void 0,document:i,endowments:void 0,globalObject:d,instrumentation:a,key:s,type:l,verboseInstrumentation:e},c),t},endowments:z({},lo,r?X(r):void 0),Qt:!1,instrumentation:e?a:void 0});return t=>d.evaluate(t)}(f);lazyVirtualEnvironmentEvaluator$LWS=e;const o=clearEvalContext$LWS();return setEvalContext$LWS(t=>{z(f.Yt,t({Zt:fo}))}),e(ao),setEvalContext$LWS(o),e(t)};f={BASIC_INSTRUMENTATION_DATA:d?{sandboxKey:a}:void 0,LOCKER_DEBUG_MODE_INSTRUMENTATION_FLAG:d,LOCKER_VERBOSE_DEBUG_MODE_INSTRUMENTATION_FLAG:l&&d,UNCOMPILED_CONTEXT:{[k]:r.location},context:t,document:e,Jt:co?_(new E):R(new I),endowments:o,globalObject:r,Yt:{},instrumentation:i,key:a,sandboxEvaluator:(t,o,n=r,c=e)=>internalEvaluateInSandbox$LWS({context:o,document:c,endowments:void 0,globalObject:n,instrumentation:i,key:a,source:t,sourceType:0,type:s,verboseInstrumentation:l}),top:c,type:s,virtualEnvironmentEvaluator:t=>lazyVirtualEnvironmentEvaluator$LWS(t)},u[a]=f,void 0===c&&(c=f,f.top=f);const{Jt:y}=c;y.set(e,e),y.set(r,r);const p=function(t){Z(t,HTMLElement,J),Z(t,HTMLIFrameElement,Y),Z(t,HTMLScriptElement,q),Z(t,SVGElement,tt);const e=createDistortionFactoryEntries$LWS(t);return et(t,e),e}(f);for(let t=0,{length:e}=p;t<e;t+=1){const{0:e,1:o}=p[t];y.set(e,o)}if(f===c)return f;const{Jt:S}=f,h=createDistortionFactoryEntries$LWS(f,Lt);for(let t=0,{length:e}=h;t<e;t+=1){const{0:e,1:o}=h[t];y.set(e,o),S.set(e,e)}if(yo.has(r))return f;yo.add(r);const onDOMContentLoadedOrWindowLoad$LWS=()=>{try{getSandboxRecord$LWS({context:void 0,document:r.document,endowments:void 0,globalObject:r,instrumentation:i,key:a,type:s,verboseInstrumentation:l},c)}catch(t){}},L=n($t,r,[]);return L?(n(Wt,L,["load",onDOMContentLoadedOrWindowLoad$LWS,!0]),f):(n(Wt,r,["unload",function onWindowUnload$LWS(){vt(()=>{try{n(Wt,r,["DOMContentLoaded",onDOMContentLoadedOrWindowLoad$LWS,!0]),n(Wt,r,["unload",onWindowUnload$LWS,!0])}catch(t){}})},!0]),f)}function internalEvaluateInSandbox$LWS(t){const{context:e,instrumentation:o,key:r,source:i,sourceType:a}=t;if("string"!=typeof r)throw new B("Invalid sandbox key.");const s=getSandboxRecord$LWS(t);var l;let c;setEvalContext$LWS(e),l=s.Yt,So=l;const u=function(t,e=1){let o="function"==typeof t?F(t):j(t);return o=n(H,o,[/\/\/# sandbox(?=MappingURL=.*?\s*$)/,"//# source"]),1===e&&-1===M(o,"use strict")?`'use strict';${o}`:o}(i,a),{BASIC_INSTRUMENTATION_DATA:f,LOCKER_DEBUG_MODE_INSTRUMENTATION_FLAG:d}=s,y=d?o.startActivity:void 0;let p;d&&(p=y("evaluateInSandbox",f));try{c=s.virtualEnvironmentEvaluator(u)}catch(t){throw d&&p.error({sandboxKey:r,error:t}),t}finally{clearEvalContext$LWS(),clearEvalHelpers$LWS()}return d&&p.stop(),c}function setEvalContext$LWS(t){po=t}function evaluateInCoreSandbox$LWS(t,e,o,r,n=gt,i=!1){return internalEvaluateInSandbox$LWS({context:o,document:document,endowments:r,globalObject:window,instrumentation:n,key:"lws-core-sandbox",source:e,sourceType:1,type:1,verboseInstrumentation:i})}function evaluateInSandbox$LWS(t,e,o,r,n=gt,i=!1){return internalEvaluateInSandbox$LWS({context:o,document:document,endowments:r,globalObject:window,instrumentation:n,key:t,source:e,sourceType:1,type:0,verboseInstrumentation:i})}export{so as CORE_SANDBOX_KEY,evaluateInCoreSandbox$LWS as evaluateInCoreSandbox,evaluateInSandbox$LWS as evaluateInSandbox};
