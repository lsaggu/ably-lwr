Object.defineProperty(exports,"__esModule",{value:!0});var t=require("@locker/shared"),e=require("@locker/distortion"),o=require("@locker/instrumentation"),r=require("@locker/shared-dom");const n=t.SymbolFor("@@lockerDebugMode");if(t.LOCKER_UNMINIFIED_FLAG){let e=!0;const o=100,r=5,i=100,a=i/2,l="display: inline-block; margin-bottom: 3px; margin-left: -3px; word-break: break-all; word-wrap: wrap;",c={style:"margin-left:11px; margin-bottom: 3px;"},s={style:"display: inline-block; margin-left:12px; word-break: break-all; word-wrap: wrap;"},u={style:"color: #9d288c; font-weight: bold"},f={style:"color: #b17ab0"},y={style:"color: #16239f"},d={style:"color: #236d25"},p={style:"color: #606367"},h={style:"color: #b82619"},formatValue$LWS=function(e){if(null==e)return["span",p,`${e}`];if("boolean"==typeof e)return["span",y,e];if("number"==typeof e)return t.NumberIsFinite(e)?["span",y,e]:["span",y,(e>=0?"":"-")+"Infinity"];if("string"==typeof e){let o=e;const{length:r}=o;if(r>i){const e=t.ReflectApply(t.StringProtoSlice,o,[0,a]),n=t.ReflectApply(t.StringProtoSlice,o,[r-a-1,r]);o=e+t.CHAR_ELLIPSIS+n}return["span",h,t.JSONStringify(o)]}return t.ArrayIsArray(e)?["span",{},`Array(${e.length})`]:t.isObject(e)?["span",{},`{${t.CHAR_ELLIPSIS}}`]:["span",h,t.StringCtor(e)]},formatHeader$LWS=function(e,n={}){const{t:i}=n,a=[];let l=0;i&&(a[l++]=["span",u,n.o],a[l++]=["span",{},": "]);const c=t.ReflectApply(t.ObjectProtoToString,e,[]);let s=t.ObjectKeys(e);if(c===t.TO_STRING_BRAND_SYMBOL)t.ReflectApply(t.ArrayProtoIncludes,s,["description"])||t.ReflectApply(t.ArrayProtoUnshift,s,["description"]);else if(c===t.TO_STRING_BRAND_STRING){const{length:o}=e;s=t.ReflectApply(t.ArrayProtoFilter,s,[e=>{const r="string"==typeof e?+e:-1;return r<0||r>=o||!t.NumberIsInteger(r)}])}const{length:f}=s;if(t.ArrayIsArray(e)){a[l++]=["span",i?p:{},`(${e.length}) [`];for(let r=0,n=t.MathMin(f,o);r<n;r+=1){const t=e[s[r]];a[l++]=["span",{},r?", ":""],a[l++]=formatValue$LWS(t)}return f>o&&(a[l++]=["span",null,["span",{},`, ${t.CHAR_ELLIPSIS}`]]),a[l++]=["span",{},"]"],a}let S,L="{";switch(c){case t.TO_STRING_BRAND_BIG_INT:case t.TO_STRING_BRAND_BOOLEAN:case t.TO_STRING_BRAND_NUMBER:case t.TO_STRING_BRAND_STRING:case t.TO_STRING_BRAND_SYMBOL:{let o=y;c===t.TO_STRING_BRAND_BIG_INT?o=d:c===t.TO_STRING_BRAND_SYMBOL&&(o=h),L=`${t.ReflectApply(t.StringProtoSlice,c,[8,-1])} {`,S=["span",o,`${t.StringCtor(t.getNearMembraneSerializedValue(e))}`];break}}a[l++]=["span",{},L],S&&(a[l++]=S,f&&(a[l++]=["span",{},", "]));for(let o=0,n=t.MathMin(f,r);o<n;o+=1){const t=s[o],r=e[t];a[l++]=["span",{},o?", ":""],a[l++]=["span",p,t],a[l++]=["span",{},": "],a[l++]=formatValue$LWS(r)}return f>r&&(a[l++]=["span",null,["span",{},`, ${t.CHAR_ELLIPSIS}`]]),a[l++]=["span",{},"}"],a},formatBody$LWS=function(e){const o=t.ObjectKeys(e),r=t.ReflectOwnKeys(e);t.ArrayIsArray(e)||t.ReflectApply(t.ArrayProtoSort,r,[]);const n=[];let i=0;for(let a=0,{length:l}=r;a<l;a+=1){const l=r[a],s=e[l];if(t.isObject(s))n[i++]=["div",{},["object",{object:s,config:{o:t.StringCtor(l),t:!0}}]];else{let e=u;"symbol"!=typeof l&&t.ReflectApply(t.ArrayProtoIncludes,o,[l])||(e=f),n[i++]=["div",c,["span",e,t.StringCtor(l)],["span",{},": "],formatValue$LWS(s)]}}return n};let{devtoolsFormatters:S}=window;t.ArrayIsArray(S)||(S=[],t.ReflectDefineProperty(window,"devtoolsFormatters",{__proto__:null,configurable:!0,value:S,writable:!0})),S[S.length]={header(o,r={}){if(e&&(e=!1,t.ReflectDefineProperty(window,n,{__proto__:null,configurable:!0,value:!0,writable:!0})),!t.isNearMembrane(o))return null;const i=["div",{style:`${l}${r.t?"":"font-style: italic;"}`}];return t.ReflectApply(t.ArrayProtoPush,i,formatHeader$LWS(o,r)),["div",{},i]},hasBody:()=>!0,body(e){const o=["div",s];return t.ReflectApply(t.ArrayProtoPush,o,formatBody$LWS(e)),o}}}const i=Array,a=WeakMap,{setPrototypeOf:l}=Reflect,{iterator:c,toStringTag:s,unscopables:u}=Symbol,{prototype:f}=i,{at:y,concat:d,copyWithin:p,entries:h,every:S,fill:L,filter:$,find:g,findIndex:W,flat:v,flatMap:b,forEach:T,includes:w,indexOf:P,join:m,keys:x,lastIndexOf:O,map:_,pop:E,push:A,reduce:B,reduceRight:j,reverse:F,shift:M,slice:H,some:k,sort:R,splice:C,toLocaleString:I,toString:D,unshift:N,values:G,[c]:U}=f,K=Object.freeze(Object.assign({__proto__:null},f[u])),{prototype:V}=a,{delete:z,get:q,has:Z,set:Q,[s]:J}=V;function toSafeWeakMap$LWS(t){return l(t,null),t.constructor=a,t.delete=z,t.get=q,t.has=Z,t.set=Q,t[s]=J,l(t,V),t}const X=toSafeWeakMap$LWS(new WeakMap);function createMembraneMarshall$LWS(t){var e,o,r;const n=Array,i=ArrayBuffer,a=Error,l=Number,c=Object,s=Proxy,u=Reflect,f=RegExp,y=String,d=Symbol,p=TypeError,h=WeakMap,{for:S,toStringTag:L}=d,{apply:$,construct:g,defineProperty:W,deleteProperty:v,get:b,getOwnPropertyDescriptor:T,getPrototypeOf:w,has:P,isExtensible:m,ownKeys:x,preventExtensions:O,set:_,setPrototypeOf:E}=u,{assign:A,defineProperties:B,freeze:j,getOwnPropertyDescriptor:F,getOwnPropertyDescriptors:M,isFrozen:H,isSealed:k,keys:R,prototype:C,seal:I}=c,{hasOwnProperty:D,propertyIsEnumerable:N,toString:G}=C,{hasOwn:U}=c,{__defineGetter__:K,__defineSetter__:V,__lookupGetter__:z,__lookupSetter__:q}=C,Z="function"==typeof U?U:(t,e)=>$(D,t,[e]),Q="object"!=typeof t||null===t,J=Q?void 0:S("@@lockerDebugMode"),Y=Q?void 0:S("@@lockerLiveValue"),tt=Q?void 0:S("@@lockerNearMembraneSerializedValue"),et=Q?void 0:S("@@lockerNearMembrane"),ot=S("@@lockerNearMembraneUndefinedValue"),LOCKER_UNMINIFIED_FLAG$LWS=`${()=>
/* $LWS */
1}`.includes("*"),rt=LOCKER_UNMINIFIED_FLAG$LWS&&!Q,nt="function"==typeof BigInt,it=Q?/\w*$/:void 0,{isArray:at}=n,{includes:lt,indexOf:ct,slice:st}=n.prototype,{isView:ut}=i,ft=Q?void 0:$(z,i.prototype,["byteLength"]),yt=nt?BigInt.prototype.valueOf:void 0,{valueOf:dt}=Boolean.prototype,{toString:pt}=a.prototype,{bind:ht,toString:St}=Function.prototype,{stringify:Lt}=JSON,{isInteger:$t}=l,{valueOf:gt}=l.prototype,{revocable:Wt}=s,{prototype:vt}=f,{exec:bt,test:Tt,toString:wt}=vt,Pt=Q?null!=(e=$(z,vt,["flags"]))?e:function(){const t=$(wt,this,[]);return $(bt,it,[t])[0]}:void 0,mt=$(z,vt,["source"]),{replace:xt,slice:Ot,valueOf:_t}=y.prototype,{toString:Et,valueOf:At}=d.prototype,Bt=$(z,Uint8Array.prototype.__proto__,["length"]),{prototype:jt}=h,{delete:Ft,has:Mt,set:Ht,[L]:kt}=jt,Rt=Q||"object"!=typeof console||null===console?void 0:console,Ct=null==Rt?void 0:Rt.info,It=Q?eval:void 0,Dt=null!=(o=null!=(r=null!=t?t:"undefined"!=typeof globalThis?globalThis:void 0)?r:"undefined"!=typeof self?self:void 0)?o:(W(C,"globalThis",{__proto__:null,configurable:!0,get(){return v(C,"globalThis"),null!=this?this:self}}),globalThis);let Nt=!1,Gt=!1;function alwaysFalse$LWS(){return!1}function identity$LWS(t){return t}const Ut=LOCKER_UNMINIFIED_FLAG$LWS?()=>{if(Nt)return;Nt=!0;const t=(()=>{try{var t;a.prepareStackTrace=(t,e)=>e;const e=(new a).stack;return v(a,"prepareStackTrace"),at(e)&&e.length>0?null==(t=e[0])?void 0:t.constructor:void 0}catch(t){}})();if("function"!=typeof t)return;const{getEvalOrigin:e,getFunctionName:o,toString:r}=t.prototype,n=new f(`${$(xt,"$LWS",[/[\\^$.*+?()[\]{}|]/g,"\\$&"])}(?=\\.|$)`);try{a.prepareStackTrace=function(t,i){return function(t,i){let a="";try{a=$(pt,t,[])}catch(t){a="<error>"}let l=!1;for(let t=0,{length:c}=i;t<c;t+=1){const c=i[t],s=$(o,c,[]);let u=!1;if("string"==typeof s&&"eval"!==s&&$(Tt,n,[s])&&(u=!0),!u){const t=$(e,c,[]);"string"==typeof t&&$(Tt,n,[t])&&(u=!0)}if(u)l||(l=!0,a+="\n    at LWS");else{l=!1;try{a+=`\n    at ${$(r,c,[])}`}catch(t){}}}return a}(t,i)}}catch(t){}try{const{stackTraceLimit:t}=a;("number"!=typeof t||t<20)&&(a.stackTraceLimit=20)}catch(t){}}:noop$LWS;function noop$LWS(){}const Kt=Q?t=>$(yt,t,[]):noop$LWS,Vt=Q?t=>$(dt,t,[]):noop$LWS,zt=Q?t=>$(gt,t,[]):noop$LWS,qt=Q?t=>{if(t!==vt){const e=$(mt,t,[]);return Lt({__proto__:null,flags:$(Pt,t,[]),source:e})}}:noop$LWS,Zt=Q?t=>$(_t,t,[]):noop$LWS,Qt=Q?t=>$(At,t,[]):noop$LWS,Jt=Q?t=>{switch($(G,t,[])){case"[object Boolean]":return Vt(t);case"[object Number]":return zt(t);case"[object RegExp]":return qt(t);case"[object String]":return Zt(t);case"[object Object]":try{return Qt(t)}catch(t){}if(nt)try{return Kt(t)}catch(t){}default:return}}:noop$LWS,Xt=Q?t=>{try{return Qt(t)}catch(t){}if(nt)try{return Kt(t)}catch(t){}try{return Vt(t)}catch(t){}try{return zt(t)}catch(t){}try{return qt(t)}catch(t){}try{return Zt(t)}catch(t){}}:noop$LWS;function toSafeWeakMap$LWS(t){return E(t,null),t.constructor=h,t.delete=Ft,t.has=Mt,t.set=Ht,t[L]=kt,E(t,jt),t}return function(t,e,o){const{distortionCallback:r=identity$LWS,instrumentation:i}=A({__proto__:null},o),a=!Q&&"object"==typeof i&&null!==i,l={__proto__:null,0:void 0,1:void 0,2:void 0,3:void 0,4:void 0,n:void 0},f={__proto__:null,0:void 0,1:void 0,2:void 0,3:void 0,4:void 0,n:void 0},d=toSafeWeakMap$LWS(new h),S=toSafeWeakMap$LWS(new h),D=a?i.startActivity:void 0;let U,nt,it,yt,dt,pt,Lt,gt,bt,Tt,wt,Pt,xt,_t,At,jt,Ft,Mt,Ht,kt,Nt,Kt,Vt,zt,qt,Zt,Qt,Yt,te,ee=!1,oe=0;const re=Q?(t,e,o)=>{o[e]=!1;const r=getTransferablePointer$LWS(t);let n;try{gt(r,e,(t,e,o,r,i,a,l)=>{n=createDescriptorFromMeta$LWS(e,o,r,i,a,l)})}catch(t){var i;const e=null!=(i=te)?i:t;throw te=void 0,e}n?W(t,e,n):v(t,e)}:noop$LWS;let ne=rt?()=>{try{Z(Dt,J)&&(ne=()=>!0,Ut(),Nt())}catch(t){ne=alwaysFalse$LWS}return!1}:alwaysFalse$LWS;function copyForeignOwnPropertyDescriptorsAndPrototypeToShadowTarget$LWS(t,e){let o,r,n;a&&(o=D("copyForeignOwnPropertyDescriptorsAndPrototypeToShadowTarget"));try{r=Zt(t,(...t)=>{const o={};for(let e=0,{length:r}=t;e<r;e+=7){o[t[e]]=createDescriptorFromMeta$LWS(t[e+1],t[e+2],t[e+3],t[e+4],t[e+5],t[e+6])}B(e,o)})}catch(t){var i;const e=null!=(i=te)?i:t;throw te=void 0,a&&o.error(e),e}"function"==typeof r?(r(),n=te,te=void 0):n=null,E(e,n),a&&o.stop()}function createApplyOrConstructTrapForZeroOrMoreArgs$LWS(t){const e=1&t,o=`Reflect.${e?"apply":"construct"}()`,r=e?l:f,n=e?it:yt;return function(i,l,c){oe=t;const s=e?c:l,{length:u}=s;var f;if(0!==u)return this[null!=(f=r[u])?f:r.n](i,l,c);let y;a&&(y=D(o));const{i:d}=this,p=e?l:c;let h,S;try{h=n(d,"object"==typeof p&&null!==p||"function"==typeof p?getTransferablePointer$LWS(p):"undefined"==typeof p?void 0:p)}catch(t){var L;const e=null!=(L=te)?L:t;throw te=void 0,a&&y.error(e),e}return"function"==typeof h?(h(),S=te,te=void 0):S=h,a&&y.stop(),S}}function createApplyOrConstructTrapForOneOrMoreArgs$LWS(t){const e=1&t,o=`Reflect.${e?"apply":"construct"}(1)`,r=e?l:f,n=e?it:yt;return function(i,l,c){oe=t;const s=e?c:l,{length:u}=s;var f;if(1!==u)return this[null!=(f=r[u])?f:r.n](i,l,c);let y;a&&(y=D(o));const{i:d}=this,p=e?l:c;let h,S;try{const{0:t}=s;h=n(d,"object"==typeof p&&null!==p||"function"==typeof p?getTransferablePointer$LWS(p):"undefined"==typeof p?void 0:p,"object"==typeof t&&null!==t||"function"==typeof t?getTransferablePointer$LWS(t):"undefined"==typeof t?void 0:t)}catch(t){var L;const e=null!=(L=te)?L:t;throw te=void 0,a&&y.error(e),e}return"function"==typeof h?(h(),S=te,te=void 0):S=h,a&&y.stop(),S}}function createApplyOrConstructTrapForTwoOrMoreArgs$LWS(t){const e=1&t,o=`Reflect.${e?"apply":"construct"}(2)`,r=e?l:f,n=e?it:yt;return function(i,l,c){oe=t;const s=e?c:l,{length:u}=s;var f;if(2!==u)return this[null!=(f=r[u])?f:r.n](i,l,c);let y;a&&(y=D(o));const{i:d}=this,p=e?l:c;let h,S;try{const{0:t,1:e}=s;h=n(d,"object"==typeof p&&null!==p||"function"==typeof p?getTransferablePointer$LWS(p):"undefined"==typeof p?void 0:p,"object"==typeof t&&null!==t||"function"==typeof t?getTransferablePointer$LWS(t):"undefined"==typeof t?void 0:t,"object"==typeof e&&null!==e||"function"==typeof e?getTransferablePointer$LWS(e):"undefined"==typeof e?void 0:e)}catch(t){var L;const e=null!=(L=te)?L:t;throw te=void 0,a&&y.error(e),e}return"function"==typeof h?(h(),S=te,te=void 0):S=h,a&&y.stop(),S}}function createApplyOrConstructTrapForThreeOrMoreArgs$LWS(t){const e=1&t,o=`Reflect.${e?"apply":"construct"}(3)`,r=e?l:f,n=e?it:yt;return function(i,l,c){oe=t;const s=e?c:l,{length:u}=s;var f;if(3!==u)return this[null!=(f=r[u])?f:r.n](i,l,c);let y;a&&(y=D(o));const{i:d}=this,p=e?l:c;let h,S;try{const{0:t,1:e,2:o}=s;h=n(d,"object"==typeof p&&null!==p||"function"==typeof p?getTransferablePointer$LWS(p):"undefined"==typeof p?void 0:p,"object"==typeof t&&null!==t||"function"==typeof t?getTransferablePointer$LWS(t):"undefined"==typeof t?void 0:t,"object"==typeof e&&null!==e||"function"==typeof e?getTransferablePointer$LWS(e):"undefined"==typeof e?void 0:e,"object"==typeof o&&null!==o||"function"==typeof o?getTransferablePointer$LWS(o):"undefined"==typeof o?void 0:o)}catch(t){var L;const e=null!=(L=te)?L:t;throw te=void 0,a&&y.error(e),e}return"function"==typeof h?(h(),S=te,te=void 0):S=h,a&&y.stop(),S}}function createApplyOrConstructTrapForFourOrMoreArgs$LWS(t){const e=1&t,o=`Reflect.${e?"apply":"construct"}(4)`,r=e?l:f,n=e?it:yt;return function(i,l,c){oe=t;const s=e?c:l,{length:u}=s;var f;if(4!==u)return this[null!=(f=r[u])?f:r.n](i,l,c);let y;a&&(y=D(o));const{i:d}=this,p=e?l:c;let h,S;try{const{0:t,1:e,2:o,3:r}=s;h=n(d,"object"==typeof p&&null!==p||"function"==typeof p?getTransferablePointer$LWS(p):"undefined"==typeof p?void 0:p,"object"==typeof t&&null!==t||"function"==typeof t?getTransferablePointer$LWS(t):"undefined"==typeof t?void 0:t,"object"==typeof e&&null!==e||"function"==typeof e?getTransferablePointer$LWS(e):"undefined"==typeof e?void 0:e,"object"==typeof o&&null!==o||"function"==typeof o?getTransferablePointer$LWS(o):"undefined"==typeof o?void 0:o,"object"==typeof r&&null!==r||"function"==typeof r?getTransferablePointer$LWS(r):"undefined"==typeof r?void 0:r)}catch(t){var L;const e=null!=(L=te)?L:t;throw te=void 0,a&&y.error(e),e}return"function"==typeof h?(h(),S=te,te=void 0):S=h,a&&y.stop(),S}}function createApplyOrConstructTrapForFiveOrMoreArgs$LWS(t){const e=1&t,o=`Reflect.${e?"apply":"construct"}(5)`,r=e?l:f,n=e?it:yt;return function(i,l,c){oe=t;const s=e?c:l,{length:u}=s;var f;if(5!==u)return this[null!=(f=r[u])?f:r.n](i,l,c);let y;a&&(y=D(o));const{i:d}=this,p=e?l:c;let h,S;try{const{0:t,1:e,2:o,3:r,4:i}=s;h=n(d,"object"==typeof p&&null!==p||"function"==typeof p?getTransferablePointer$LWS(p):"undefined"==typeof p?void 0:p,"object"==typeof t&&null!==t||"function"==typeof t?getTransferablePointer$LWS(t):"undefined"==typeof t?void 0:t,"object"==typeof e&&null!==e||"function"==typeof e?getTransferablePointer$LWS(e):"undefined"==typeof e?void 0:e,"object"==typeof o&&null!==o||"function"==typeof o?getTransferablePointer$LWS(o):"undefined"==typeof o?void 0:o,"object"==typeof r&&null!==r||"function"==typeof r?getTransferablePointer$LWS(r):"undefined"==typeof r?void 0:r,"object"==typeof i&&null!==i||"function"==typeof i?getTransferablePointer$LWS(i):"undefined"==typeof i?void 0:i)}catch(t){var L;const e=null!=(L=te)?L:t;throw te=void 0,a&&y.error(e),e}return"function"==typeof h?(h(),S=te,te=void 0):S=h,a&&y.stop(),S}}function createApplyOrConstructTrapForAnyNumberOfArgs$LWS(t){const e=1&t,o=e?"apply":"construct",r=e?it:yt;return function(i,l,c){oe=t;const{i:s}=this,u=e?c:l,{length:f}=u;let y;a&&(y=D(`Reflect.${o}(${f})`));const d=e?l:c;let p=2;const h=new n(f+p);let S,L;h[0]=s;try{h[1]="object"==typeof d&&null!==d||"function"==typeof d?getTransferablePointer$LWS(d):"undefined"==typeof d?void 0:d;for(let t=0;t<f;t+=1){const e=u[t];h[p++]="object"==typeof e&&null!==e||"function"==typeof e?getTransferablePointer$LWS(e):"undefined"==typeof e?void 0:e}S=$(r,void 0,h)}catch(t){var g;const e=null!=(g=te)?g:t;throw te=void 0,a&&y.error(e),e}return"function"==typeof S?(S(),L=te,te=void 0):L=S,a&&y.stop(),L}}function createDescriptorFromMeta$LWS(t,e,o,r,n,i){const a={__proto__:null};return t!==ot&&(a.configurable=t),e!==ot&&(a.enumerable=e),o!==ot&&(a.writable=o),n!==ot&&("function"==typeof n?(n(),a.get=te,te=void 0):a.get=void 0),i!==ot&&("function"==typeof i?(i(),a.set=te,te=void 0):a.set=void 0),r!==ot&&("function"==typeof r?(r(),a.value=te,te=void 0):a.value=r),a}function createPointer$LWS(t){return()=>{te=t}}const ie=Q?t=>{let e=d.get(t);if(void 0===e){const o=Ft(getTransferablePointer$LWS(t));"function"==typeof o&&(o(),e=te,te=void 0,e&&d.set(t,e))}return e}:noop$LWS;function getTransferablePointer$LWS(t,e=nt){let o=S.get(t);if(o)return o;const n=Q?t:r(t);if(n!==t&&typeof n!=typeof t)throw new p(`Invalid distortion ${function(t){if("string"==typeof t)return t;try{if("object"==typeof t&&null!==t){const e=$(G,t,[]);return"[object Symbol]"===e?$(Et,t,[]):e}return"function"==typeof t?$(St,t,[]):y(t)}catch(t){}return"[Object Unknown]"}(t)}.`);let i=!0,a=0,l=0,c=16;if("function"==typeof n){i=!1,a=0,c=4;try{"prototype"in n||(c|=8);const e=T(t,"length");if(e){E(e,null);const{value:t}=e;"number"==typeof t&&(a=t)}void 0}catch(t){i=!0}}else if(ut(n)){i=!1,c=2;try{l=$(Bt,n,[]),c|=32}catch(t){i=!0}}if(i)try{at(n)&&(c=1)}catch(t){c=64}return o=e(createPointer$LWS(n),c,a,"",l),S.set(t,o),o}const ae=Q?t=>{if(Gt)return;Gt=!0;const e=at(t)&&t.length>0,o=e?{__proto__:null}:void 0,r=e?(e,o)=>$(lt,t,[o])?{configurable:!1,enumerable:$(N,e,[o]),get:n(o),set:void 0}:T(e,o):void 0,n=e?t=>{let e=o[t];return void 0===e&&(e=$(ht,l,[]),o[t]=e),e}:void 0,i=e?(e,o)=>$(lt,t,[o])?n(o):$(z,e,[o]):void 0,a=e?(e,o)=>$(lt,t,[o])?void 0:$(q,e,[o]):void 0,l=e?()=>Dt:void 0,wrapDefineAccessOrProperty$LWS=t=>{const{length:e}=t,o=2===e;return new s(t,{apply(r,n,i){if(i.length>=e){const t=o?n:i[0];if("object"==typeof t&&null!==t||"function"==typeof t){const e=o?i[0]:i[1],r=ie(t);null!=r&&r[e]&&t[e]}}return $(t,n,i)}})},wrapLookupAccessor$LWS=(t,o)=>new s(t,{apply(r,n,i){if(i.length&&("object"==typeof n&&null!==n||"function"==typeof n)){const{0:t}=i,r=ie(n);if(null!=r&&r[t]&&n[t],e&&n===Dt)return o(n,t)}return $(t,n,i)}}),wrapGetOwnPropertyDescriptor$LWS=t=>new s(t,{apply(o,n,i){if(i.length>1){const{0:t,1:o}=i;if("object"==typeof t&&null!==t||"function"==typeof t){const n=ie(t);if(null!=n&&n[o]&&t[o],e&&t===Dt)return r(t,o)}}return $(t,n,i)}});try{u.defineProperty=wrapDefineAccessOrProperty$LWS(W)}catch(t){}try{u.getOwnPropertyDescriptor=wrapGetOwnPropertyDescriptor$LWS(T)}catch(t){}try{c.getOwnPropertyDescriptor=wrapGetOwnPropertyDescriptor$LWS(F)}catch(t){}try{c.getOwnPropertyDescriptors=new s(f=M,{apply(t,o,n){const i=n.length?n[0]:void 0;if(("object"!=typeof i||null===i)&&"function"!=typeof i)return $(f,o,n);const a=ie(i),l=i===Dt&&e,c=l?{}:$(f,o,n);if(!l&&void 0===a)return c;const s=x(l?i:c);for(let t=0,{length:e}=s;t<e;t+=1){const e=s[t],o=!(null==a||!a[e]);if(o&&i[e],o||l){const t=l?r(i,e):T(i,e);t?c[e]=t:l||v(c,e)}}return c}})}catch(t){}var f;try{C.__defineGetter__=wrapDefineAccessOrProperty$LWS(K)}catch(t){}try{C.__defineSetter__=wrapDefineAccessOrProperty$LWS(V)}catch(t){}try{C.__lookupGetter__=wrapLookupAccessor$LWS(z,i)}catch(t){}try{C.__lookupSetter__=wrapLookupAccessor$LWS(q,a)}catch(t){}}:noop$LWS;function lookupForeignDescriptor$LWS(t,e,o){let r,n,i;a&&(r=D("lookupForeignDescriptor"));try{n=Yt(t,o,(t,r,n,a,l,c,s)=>{i={__proto__:null,l:!0},r!==ot&&(i.configurable=r),n!==ot&&(i.enumerable=n),a!==ot&&(i.writable=a),c!==ot&&("function"==typeof c?(c(),i.get=te,te=void 0):i.get=void 0),s!==ot&&("function"==typeof s?(s(),i.set=te,te=void 0):i.set=void 0),l!==ot&&("function"==typeof l?(l(),i.value=te,te=void 0):i.value=l),!1===r&&W(e,o,i)})}catch(t){var l;const e=null!=(l=te)?l:t;throw te=void 0,a&&r.error(e),e}if(void 0===i){let t;for("function"==typeof n?(n(),t=te,te=void 0):t=null;t;){if(i=T(t,o),i){E(i,null);break}t=w(t)}if(i){var c;const{get:t,set:e,value:o}=i,r=null!=(c=null!=t?t:e)?c:o;i.l=("object"==typeof r&&null!==r||"function"==typeof r)&&void 0!==S.get(r)}}return a&&r.stop(),i}function pushErrorAcrossBoundary$LWS(t){if(rt&&ne(),"object"==typeof t&&null!==t||"function"==typeof t){getTransferablePointer$LWS(t,U)()}return t}function pushTarget$LWS(t,e,o,r,n){const{proxy:i}=new BoundaryProxyHandler$LWS(t,e,o,r,n);return S.set(i,t),createPointer$LWS(i)}const le=Q?(t,e)=>{d.set(t,e),qt(getTransferablePointer$LWS(t),getTransferablePointer$LWS(e))}:noop$LWS;class BoundaryProxyHandler$LWS{constructor(t,e,o,r,n){let i;const a=1&e,c=4&e;i=c?8&e?()=>{}:function(){}:a?[]:{};const{proxy:s,revoke:u}=Wt(i,this);var y,d;(this.i=t,this.u=e,this.p=n,this.h=(t,e,o,r,n,i,a)=>{W(this.S,t,createDescriptorFromMeta$LWS(e,o,r,n,i,a))},this.proxy=s,this.revoke=u,this.serializedValue=void 0,this.S=i,this.L="Object",c)&&(this.apply=this[null!=(y=l[o])?y:l.n],this.construct=this[null!=(d=f[o])?d:f.n]);if(this.defineProperty=BoundaryProxyHandler$LWS.$,this.deleteProperty=BoundaryProxyHandler$LWS.g,this.isExtensible=BoundaryProxyHandler$LWS.W,this.getOwnPropertyDescriptor=BoundaryProxyHandler$LWS.v,this.getPrototypeOf=BoundaryProxyHandler$LWS.T,this.get=32&e?BoundaryProxyHandler$LWS.hybridGetTrapForTypedArray:BoundaryProxyHandler$LWS.P,this.has=BoundaryProxyHandler$LWS.m,this.ownKeys=BoundaryProxyHandler$LWS.O,this.preventExtensions=BoundaryProxyHandler$LWS._,this.setPrototypeOf=BoundaryProxyHandler$LWS.A,this.set=BoundaryProxyHandler$LWS.B,64&e)j(this),this.revoke();else if(Q)(a||2&e)&&this.j();else{if(16&e){let t=ot;$(K,this,["serializedValue",()=>(t===ot&&(t=zt(this.i)),t)])}j(this)}}j(){this.deleteProperty=BoundaryProxyHandler$LWS.F,this.defineProperty=BoundaryProxyHandler$LWS.M,this.preventExtensions=BoundaryProxyHandler$LWS.H,this.set=BoundaryProxyHandler$LWS.k,this.setPrototypeOf=BoundaryProxyHandler$LWS.R,j(this)}C(){this.defineProperty=BoundaryProxyHandler$LWS.I,this.deleteProperty=BoundaryProxyHandler$LWS.D,this.get=BoundaryProxyHandler$LWS.N,this.getOwnPropertyDescriptor=BoundaryProxyHandler$LWS.G,this.getPrototypeOf=BoundaryProxyHandler$LWS.U,this.has=BoundaryProxyHandler$LWS.K,this.isExtensible=BoundaryProxyHandler$LWS.V,this.ownKeys=BoundaryProxyHandler$LWS.q,this.preventExtensions=BoundaryProxyHandler$LWS.Z,this.set=BoundaryProxyHandler$LWS.J,this.setPrototypeOf=BoundaryProxyHandler$LWS.X;const{i:t,u:e,S:o}=this,r=Mt(t);if(8&r)return j(this),this.revoke(),void 0;try{copyForeignOwnPropertyDescriptorsAndPrototypeToShadowTarget$LWS(t,o)}catch(e){if(Vt(t))return j(this),this.revoke(),void 0}if(16&e&&!(L in o)){let e="Object";try{e=Ht(t)}catch(t){}this.L=e}4&r?j(o):(2&r?I(o):1&r&&O(o),LOCKER_UNMINIFIED_FLAG$LWS&&jt("Mutations on the membrane of an object originating outside of the sandbox will not be reflected on the object itself:",t)),j(this)}static M(t,e,o){let r;oe=4,a&&(r=D("Reflect.defineProperty"));const{i:n,h:i}=this,l=o;E(l,null);const{get:c,set:s,value:u}=l,f="value"in l?"object"==typeof u&&null!==u||"function"==typeof u?getTransferablePointer$LWS(u):"undefined"==typeof u?void 0:u:ot,y="get"in l?"function"==typeof c?getTransferablePointer$LWS(c):c:ot,d="set"in l?"function"==typeof s?getTransferablePointer$LWS(s):s:ot;let p=!1;try{p=dt(n,e,"configurable"in l?!!l.configurable:ot,"enumerable"in l?!!l.enumerable:ot,"writable"in l?!!l.writable:ot,f,y,d,i)}catch(t){var h;const e=null!=(h=te)?h:t;throw te=void 0,a&&r.error(e),e}return a&&r.stop(),p}static F(t,e){let o;oe=8,a&&(o=D("Reflect.deleteProperty"));let r=!1;try{r=pt(this.i,e)}catch(t){var n;const e=null!=(n=te)?n:t;throw te=void 0,a&&o.error(e),e}return a&&o.stop(),r}static Y(t){let e,o,r;oe=64,a&&(e=D("Reflect.getPrototypeOf"));try{o=bt(this.i)}catch(t){var n;const o=null!=(n=te)?n:t;throw te=void 0,a&&e.error(o),o}return"function"==typeof o?(o(),r=te,te=void 0):r=null,a&&e.stop(),r}static tt(t){let e;oe=256,a&&(e=D("Reflect.isExtensible"));const{S:o}=this;let r=!1;if(m(o)){const{i:t}=this;try{r=wt(t)}catch(t){var n;const o=null!=(n=te)?n:t;throw te=void 0,a&&e.error(o),o}r||(copyForeignOwnPropertyDescriptorsAndPrototypeToShadowTarget$LWS(t,o),O(o))}return a&&e.stop(),r}static et(t){let e,o;oe=512,a&&(e=D("Reflect.ownKeys"));try{Pt(this.i,(...t)=>{o=t})}catch(t){var r;const o=null!=(r=te)?r:t;throw te=void 0,a&&e.error(o),o}return a&&e.stop(),o||[]}static ot(t,e){let o;oe=32,a&&(o=D("Reflect.getOwnPropertyDescriptor"));const{i:r,S:n}=this;let i;try{gt(r,e,(t,o,r,a,l,c,s)=>{i=createDescriptorFromMeta$LWS(o,r,a,l,c,s),!1===i.configurable&&W(n,e,i)})}catch(t){var l;const e=null!=(l=te)?l:t;throw te=void 0,a&&o.error(e),e}return a&&o.stop(),i}static H(t){let e;oe=1024,a&&(e=D("Reflect.preventExtensions"));const{i:o,S:r}=this;let n=!0;if(m(r)){let t=0;try{t=xt(o)}catch(t){var i;const o=null!=(i=te)?i:t;throw te=void 0,a&&e.error(o),o}1&t||(copyForeignOwnPropertyDescriptorsAndPrototypeToShadowTarget$LWS(o,r),O(r)),n=!(2&t)}return a&&e.stop(),n}static R(t,e){let o;oe=4096,a&&(o=D("Reflect.setPrototypeOf"));const r=e?getTransferablePointer$LWS(e):e;let n=!1;try{n=At(this.i,r)}catch(t){var i;const e=null!=(i=te)?i:t;throw te=void 0,a&&o.error(e),e}return a&&o.stop(),n}static k(t,e,o,r){oe=2048;const{i:n,proxy:i,S:l}=this;"undefined"==typeof o&&(o=void 0),"undefined"==typeof r&&(r=i);const c=i===r;let s;a&&(s=D(c?"Reflect.set":"passthruForeignTraversedSet"));let u=!1;try{u=c?_t(n,e,"object"==typeof o&&null!==o||"function"==typeof o?getTransferablePointer$LWS(o):o,ot):function(t,e,o,r,n){const i=lookupForeignDescriptor$LWS(t,e,o);if(i){if("get"in i||"set"in i){const{set:t}=i;return!!t&&(i.l?it(getTransferablePointer$LWS(t),"object"==typeof n&&null!==n||"function"==typeof n?getTransferablePointer$LWS(n):"undefined"==typeof n?void 0:n,"object"==typeof r&&null!==r||"function"==typeof r?getTransferablePointer$LWS(r):"undefined"==typeof r?void 0:r):$(t,n,[r]),!0)}if(!1===i.writable)return!1}if(("object"!=typeof n||null===n)&&"function"!=typeof n)return!1;const a=T(n,o);return a?(E(a,null),!("get"in a)&&!("set"in a)&&!1!==a.writable&&(W(n,o,{__proto__:null,value:r}),!0)):W(n,o,{__proto__:null,configurable:!0,enumerable:!0,value:r,writable:!0})}(n,l,e,o,r)}catch(t){var f;const e=null!=(f=te)?f:t;throw te=void 0,a&&s.error(e),e}return a&&s.stop(),u}}BoundaryProxyHandler$LWS.rt=Q?function(t,e,o){let r;a&&(r=D("hybridGetTrap"));const{i:n,u:i,proxy:l,S:c}=this,s=lookupForeignDescriptor$LWS(n,c,e);let u;if(s){const{get:t,value:e}=s;if(t)if(s.l){const e=getTransferablePointer$LWS(t),i=l===o?n:"object"==typeof o&&null!==o||"function"==typeof o?getTransferablePointer$LWS(o):o;let c;try{c=it(e,i)}catch(t){var f;const e=null!=(f=te)?f:t;throw te=void 0,a&&r.error(e),e}"function"==typeof c?(c(),u=te,te=void 0):u=c}else u=$(t,o,[]);else u=e}else if(e===L&&16&i){let t;try{t=Ht(n)}catch(t){var y;const e=null!=(y=te)?y:t;throw te=void 0,a&&r.error(e),e}"Object"!==t&&(u=t)}return a&&r.stop(),u}:noop$LWS,BoundaryProxyHandler$LWS.hybridGetTrapForTypedArray=Q?function(t,e,o){let r;a&&(r=D("hybridGetTrapForTypedArray"));const{i:n,p:i,proxy:l,S:c}=this,s="string"==typeof e?+e:-1;let u;if(s>-1&&s<i&&$t(s))try{u=kt(n,e)}catch(t){var f;const e=null!=(f=te)?f:t;throw te=void 0,a&&r.error(e),e}else{const t=lookupForeignDescriptor$LWS(n,c,e);if(t){const{get:e,value:i}=t;if(e)if(t.l){const t=getTransferablePointer$LWS(e),i=l===o?n:"object"==typeof o&&null!==o||"function"==typeof o?getTransferablePointer$LWS(o):o;let c;try{c=it(t,i)}catch(t){var y;const e=null!=(y=te)?y:t;throw te=void 0,a&&r.error(e),e}"function"==typeof c?(c(),u=te,te=void 0):u=c}else u=$(e,o,[]);else u=i}}return a&&r.stop(),u}:noop$LWS,BoundaryProxyHandler$LWS.nt=Q?function(t,e){let o,r;a&&(o=D("hybridHasTrap"));try{r=Qt(this.i,e)}catch(t){var n;const e=null!=(n=te)?n:t;throw te=void 0,a&&o.error(e),e}let i=!1;if(!0===r)i=!0;else{let t;for("function"==typeof r?(r(),t=te,te=void 0):t=null;t;){if(Z(t,e)){i=!0;break}t=w(t)}}return a&&o.stop(),i}:alwaysFalse$LWS,BoundaryProxyHandler$LWS.it=Q?noop$LWS:function(t,e,o){if(ee&&(ee=128===oe),oe=16,ee){if(e===et)return!0;if(e===tt)return this.serializedValue}let r;a&&(r=D("Reflect.get"));const{i:n,u:i,proxy:l}=this;"undefined"==typeof o&&(o=l);const c=l===o?ot:"object"==typeof o&&null!==o||"function"==typeof o?getTransferablePointer$LWS(o):o;let s,u;try{s=Lt(n,i,e,c)}catch(t){var f;const e=null!=(f=te)?f:t;throw te=void 0,a&&r.error(e),e}return"function"==typeof s?(s(),u=te,te=void 0):u=s,a&&r.stop(),u},BoundaryProxyHandler$LWS.lt=Q?alwaysFalse$LWS:function(t,e){let o,r;oe=128,a&&(o=D("Reflect.has"));try{r=Tt(this.i,e)}catch(t){var n;const e=null!=(n=te)?n:t;throw te=void 0,a&&o.error(e),e}return ee=!r&&(e===et||e===tt),a&&o.stop(),r},BoundaryProxyHandler$LWS.ct=Q?function(t,e,o){return Kt(this.i)?this.j():this.C(),this.defineProperty(t,e,o)}:alwaysFalse$LWS,BoundaryProxyHandler$LWS.st=Q?function(t,e){return Kt(this.i)?this.j():this.C(),this.deleteProperty(t,e)}:alwaysFalse$LWS,BoundaryProxyHandler$LWS.ut=Q?function(t){return Kt(this.i)?this.j():this.C(),this.preventExtensions(t)}:alwaysFalse$LWS,BoundaryProxyHandler$LWS.ft=Q?function(t,e){return Kt(this.i)?this.j():this.C(),this.setPrototypeOf(t,e)}:alwaysFalse$LWS,BoundaryProxyHandler$LWS.yt=Q?function(t,e,o,r){return Kt(this.i)?this.j():this.C(),this.set(t,e,o,r)}:alwaysFalse$LWS,BoundaryProxyHandler$LWS.I=Q?W:alwaysFalse$LWS,BoundaryProxyHandler$LWS.D=Q?v:alwaysFalse$LWS,BoundaryProxyHandler$LWS.G=Q?T:noop$LWS,BoundaryProxyHandler$LWS.U=Q?w:()=>null,BoundaryProxyHandler$LWS.N=Q?function(t,e,o){const{u:r,L:n}=this,i=b(t,e,o);return void 0===i&&e===L&&16&r&&"Object"!==n&&!(e in t)?n:i}:noop$LWS,BoundaryProxyHandler$LWS.K=Q?P:alwaysFalse$LWS,BoundaryProxyHandler$LWS.V=Q?m:alwaysFalse$LWS,BoundaryProxyHandler$LWS.q=Q?x:()=>[],BoundaryProxyHandler$LWS.Z=Q?O:alwaysFalse$LWS,BoundaryProxyHandler$LWS.X=Q?E:alwaysFalse$LWS,BoundaryProxyHandler$LWS.J=Q?_:alwaysFalse$LWS,BoundaryProxyHandler$LWS.$=Q?BoundaryProxyHandler$LWS.ct:BoundaryProxyHandler$LWS.M,BoundaryProxyHandler$LWS.g=Q?BoundaryProxyHandler$LWS.st:BoundaryProxyHandler$LWS.F,BoundaryProxyHandler$LWS.v=BoundaryProxyHandler$LWS.ot,BoundaryProxyHandler$LWS.T=BoundaryProxyHandler$LWS.Y,BoundaryProxyHandler$LWS.P=Q?BoundaryProxyHandler$LWS.rt:BoundaryProxyHandler$LWS.it,BoundaryProxyHandler$LWS.m=Q?BoundaryProxyHandler$LWS.nt:BoundaryProxyHandler$LWS.lt,BoundaryProxyHandler$LWS.W=BoundaryProxyHandler$LWS.tt,BoundaryProxyHandler$LWS.O=BoundaryProxyHandler$LWS.et,BoundaryProxyHandler$LWS._=Q?BoundaryProxyHandler$LWS.ut:BoundaryProxyHandler$LWS.H,BoundaryProxyHandler$LWS.B=Q?BoundaryProxyHandler$LWS.yt:BoundaryProxyHandler$LWS.k,BoundaryProxyHandler$LWS.A=Q?BoundaryProxyHandler$LWS.ft:BoundaryProxyHandler$LWS.R,e(createPointer$LWS(Dt),Q?noop$LWS:()=>{const t=te;return te=void 0,t},t=>"object"==typeof t&&null!==t||"function"==typeof t?getTransferablePointer$LWS(t):"undefined"==typeof t?void 0:t,(t,e)=>{t();const o=te;te=void 0;const r=null==o?void 0:o[e];return createPointer$LWS("undefined"==typeof r?void 0:r)},Q?t=>{let e;try{e=It(t)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}return"object"==typeof e&&null!==e||"function"==typeof e?getTransferablePointer$LWS(e):e}:noop$LWS,(t,e)=>{t();const o=te;te=void 0,("object"==typeof o&&null!==o||"function"==typeof o)&&S.set(o,e)},rt?(t,e,o,r,n)=>{const i=pushTarget$LWS(t,e,o,r,n);return()=>(ne(),i())}:pushTarget$LWS,pushTarget$LWS,(t,e,...o)=>{t();const r=te;let n,i;te=void 0,"function"==typeof e&&(e(),n=te,te=void 0);for(let t=0,{length:e}=o;t<e;t+=1){const e=o[t];"function"==typeof e&&(e(),o[t]=te,te=void 0)}try{i=$(r,n,o)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}return"object"==typeof i&&null!==i||"function"==typeof i?getTransferablePointer$LWS(i):"undefined"==typeof i?void 0:i},(t,e,...o)=>{t();const r=te;let n,i;te=void 0,"function"==typeof e&&(e(),n=te,te=void 0);for(let t=0,{length:e}=o;t<e;t+=1){const e=o[t];"function"==typeof e&&(e(),o[t]=te,te=void 0)}try{i=g(r,o,n)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}return"object"==typeof i&&null!==i||"function"==typeof i?getTransferablePointer$LWS(i):"undefined"==typeof i?void 0:i},(t,e,o,r,n,i,a,l,c)=>{t();const s=te;te=void 0;const u=createDescriptorFromMeta$LWS(o,r,n,i,a,l);let f=!1;try{f=W(s,e,u)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}if(f&&!1===o){let t;try{t=T(s,e)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}if(t&&(E(t,null),!1===t.configurable)){const{get:o,set:r,value:n}=t;c(e,!1,"enumerable"in t?t.enumerable:ot,"writable"in t?t.writable:ot,"value"in t?"object"==typeof n&&null!==n||"function"==typeof n?getTransferablePointer$LWS(n):n:ot,"get"in t?"function"==typeof o?getTransferablePointer$LWS(o):o:ot,"set"in t?"function"==typeof r?getTransferablePointer$LWS(r):r:ot)}}return f},(t,e)=>{t();const o=te;te=void 0;try{return v(o,e)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}},(t,e,o,r)=>{t();const n=te;let i,a;te=void 0,"function"==typeof r?(r(),i=te,te=void 0):i=r===ot?n:r;try{a=b(n,o,i)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}if("object"==typeof a&&null!==a||"function"==typeof a)return getTransferablePointer$LWS(a);if(void 0===a&&o===L&&16&e)try{if(!(o in n)){const t=$(G,n,[]);"[object Object]"!==t&&(a=$(Ot,t,[8,-1]))}}catch(t){throw pushErrorAcrossBoundary$LWS(t)}return"undefined"==typeof a?void 0:a},(t,e,o)=>{t();const r=te;let n;te=void 0;try{n=T(r,e)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}if(n){E(n,null);const{get:t,set:r,value:i}=n;o(e,"configurable"in n?n.configurable:ot,"enumerable"in n?n.enumerable:ot,"writable"in n?n.writable:ot,"value"in n?"object"==typeof i&&null!==i||"function"==typeof i?getTransferablePointer$LWS(i):"undefined"==typeof i?void 0:i:ot,"get"in n?"function"==typeof t?getTransferablePointer$LWS(t):t:ot,"set"in n?"function"==typeof r?getTransferablePointer$LWS(r):r:ot)}},t=>{t();const e=te;let o;te=void 0;try{o=w(e)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}return"undefined"==typeof o?null:o?getTransferablePointer$LWS(o):o},(t,e)=>{t();const o=te;te=void 0;try{return e in o}catch(t){throw pushErrorAcrossBoundary$LWS(t)}},t=>{t();const e=te;te=void 0;try{return m(e)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}},(t,e)=>{t();const o=te;let r;te=void 0;try{r=x(o)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}$(e,void 0,r)},t=>{t();const e=te;te=void 0;let o=2;try{O(e)?o=4:m(e)&&(o|=1)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}return o},(t,e,o,r)=>{t();const n=te;let i,a;te=void 0,"function"==typeof o?(o(),i=te,te=void 0):i=o,"function"==typeof r?(r(),a=te,te=void 0):a=r===ot?n:r;try{return _(n,e,i,a)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}},(t,e=null)=>{t();const o=te;let r;te=void 0,"function"==typeof e?(e(),r=te,te=void 0):r=null;try{return E(o,r)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}},rt?(...t)=>{if(ne()){for(let e=0,{length:o}=t;e<o;e+=1){const o=t[e];"function"==typeof o&&(o(),t[e]=te,te=void 0)}try{$(Ct,Rt,t)}catch(t){}}}:noop$LWS,Q?(t,...e)=>{t();const o=te;te=void 0;for(let t=0,{length:r}=e;t<r;t+=7)W(o,e[t],createDescriptorFromMeta$LWS(e[t+1],e[t+2],e[t+3],e[t+4],e[t+5],e[t+6]))}:noop$LWS,Q?noop$LWS:t=>{t();const e=te;te=void 0;const o=X.get(e);return o?getTransferablePointer$LWS(o):o},Q?()=>0:t=>{t();const e=te;te=void 0;try{if(!m(e))return H(e)||k(e)?0:1}catch(t){try{at(e)}catch(t){return 8}}return 0},t=>{t();const e=te;te=void 0;try{const t=$(G,e,[]);return"[object Object]"===t?"Object":$(Ot,t,[8,-1])}catch(t){throw pushErrorAcrossBoundary$LWS(t)}},Q?noop$LWS:(t,e)=>{t();const o=te;te=void 0;try{return o[e]}catch(t){throw pushErrorAcrossBoundary$LWS(t)}},Ut,Q?(t,...e)=>{const o=$(ct,e,[ot]);let r,n;-1===o?r=e:(r=$(st,e,[0,o]),n=$(st,e,[o+1])),t();const i=te;te=void 0;let a=ie(i);void 0===a&&(a={__proto__:null},le(i,a));for(let t=0,{length:e}=r;t<e;t+=1){const e=r[t];a[e]=!0,W(i,e,{__proto__:null,configurable:!0,get:()=>(re(i,e,a),i[e]),set(t){re(i,e,a),_(i,e,t)}})}ae(n)}:noop$LWS,Q?alwaysFalse$LWS:t=>{t();const e=te;if(te=void 0,null==e||e===C||e===vt)return!1;if("function"==typeof e){try{return Z(e,Y)}catch(t){}return!1}if("object"==typeof e){let t;try{if(({constructor:t}=e),t===c)return!0}catch(t){}try{if(Z(e,Y))return!0}catch(t){}try{if(null===w(e)&&("function"!=typeof t||t.prototype!==e))return!0}catch(t){}try{if(Z(e,"lastIndex"))return $(mt,e,[]),!0}catch(t){}try{if("byteLength"in e)return $(ft,e,[]),!0}catch(t){}}return!1},Q?alwaysFalse$LWS:t=>{t();const e=te;te=void 0;try{return at(e),!1}catch(t){}return!0},Q?t=>{t();const e=te;te=void 0;try{return L in e?Xt(e):Jt(e)}catch(t){}}:noop$LWS,Q?noop$LWS:(t,e)=>{t();const o=te;te=void 0,e();const r=te;te=void 0,X.set(o,r)},(t,e)=>{t();const o=te;let r;te=void 0;try{r=M(o)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}const i=x(r),{length:a}=i,l=new n(7*a);for(let t=0,e=0;t<a;t+=1,e+=7){const o=i[t],n=r[o];E(n,null);const{get:a,set:c,value:s}=n;l[e]=o,l[e+1]="configurable"in n?n.configurable:ot,l[e+2]="enumerable"in n?n.enumerable:ot,l[e+3]="writable"in n?n.writable:ot,l[e+4]="value"in n?"object"==typeof s&&null!==s||"function"==typeof s?getTransferablePointer$LWS(s):s:ot,l[e+5]="get"in n?"function"==typeof a?getTransferablePointer$LWS(a):a:ot,l[e+6]="set"in n?"function"==typeof c?getTransferablePointer$LWS(c):c:ot}let c;$(e,void 0,l);try{c=w(o)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}return"undefined"==typeof c?null:c?getTransferablePointer$LWS(c):c},(t,e)=>{t();const o=te;let r;te=void 0;try{if(Z(o,e))return!0;r=w(o)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}return"undefined"==typeof r?null:r?getTransferablePointer$LWS(r):r},(t,e,o)=>{t();const r=te;let n,i;te=void 0;try{n=T(r,e)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}if(n){E(n,null);const{get:t,set:r,value:i}=n;return o(e,"configurable"in n?n.configurable:ot,"enumerable"in n?n.enumerable:ot,"writable"in n?n.writable:ot,"value"in n?"object"==typeof i&&null!==i||"function"==typeof i?getTransferablePointer$LWS(i):"undefined"==typeof i?void 0:i:ot,"get"in n?"function"==typeof t?getTransferablePointer$LWS(t):t:ot,"set"in n?"function"==typeof r?getTransferablePointer$LWS(r):r:ot),void 0}try{i=w(r)}catch(t){throw pushErrorAcrossBoundary$LWS(t)}return"undefined"==typeof i?null:i?getTransferablePointer$LWS(i):i});let ce=!1;return(...t)=>{if(ce)return;ce=!0,({6:U,7:nt,8:it,9:yt,10:dt,11:pt,12:Lt,13:gt,14:bt,15:Tt,16:wt,17:Pt,18:xt,19:_t,20:At,21:jt,23:Ft,24:Mt,25:Ht,26:kt,27:Nt,29:Kt,30:Vt,31:zt,32:qt,33:Zt,34:Qt,35:Yt}=t);const e=createApplyOrConstructTrapForZeroOrMoreArgs$LWS(1),o=createApplyOrConstructTrapForOneOrMoreArgs$LWS(1),r=createApplyOrConstructTrapForTwoOrMoreArgs$LWS(1),n=createApplyOrConstructTrapForThreeOrMoreArgs$LWS(1),i=createApplyOrConstructTrapForFourOrMoreArgs$LWS(1),a=createApplyOrConstructTrapForFiveOrMoreArgs$LWS(1),c=createApplyOrConstructTrapForAnyNumberOfArgs$LWS(1),s=createApplyOrConstructTrapForZeroOrMoreArgs$LWS(2),u=createApplyOrConstructTrapForOneOrMoreArgs$LWS(2),y=createApplyOrConstructTrapForTwoOrMoreArgs$LWS(2),d=createApplyOrConstructTrapForThreeOrMoreArgs$LWS(2),p=createApplyOrConstructTrapForFourOrMoreArgs$LWS(2),h=createApplyOrConstructTrapForFiveOrMoreArgs$LWS(2),S=createApplyOrConstructTrapForAnyNumberOfArgs$LWS(2),L=R({dt:e,ht:o,St:r,Lt:n,$t:i,gt:a,Wt:c,vt:s,bt:u,Tt:y,wt:d,Pt:p,xt:h,Ot:S});l[0]=L[0],l[1]=L[1],l[2]=L[2],l[3]=L[3],l[4]=L[4],l[5]=L[5],l.n=L[6],f[0]=L[7],f[1]=L[8],f[2]=L[9],f[3]=L[10],f[4]=L[11],f[5]=L[12],f.n=L[13];const{prototype:$}=BoundaryProxyHandler$LWS;$[l[0]]=e,$[l[1]]=o,$[l[2]]=r,$[l[3]]=n,$[l[4]]=i,$[l[5]]=a,$[l.n]=c,$[f[0]]=s,$[f[1]]=u,$[f[2]]=y,$[f[3]]=d,$[f[4]]=p,$[f[5]]=h,$[f.n]=S,E($,null),j($)}}}const Y=TypeError,tt=`\n'use strict';\n(${createMembraneMarshall$LWS})`;function createRedConnector$LWS(t){if("function"!=typeof t)throw new Y("Missing evaluator function.");return t(tt)()}const et=Symbol.for("@@lockerNearMembraneUndefinedValue"),ot=Array,rt=Error,nt=Object,{push:it}=ot.prototype,{assign:at}=nt,{apply:lt,ownKeys:ct}=Reflect;class VirtualEnvironment$LWS{constructor(t){if(void 0===t)throw new rt("Missing VirtualEnvironmentOptions options bag.");const{_t:e,distortionCallback:o,instrumentation:r,redConnector:n}=at({__proto__:null},t);let i;const a=e("blue",(...t)=>{i=t},{distortionCallback:o,instrumentation:r}),{0:l,1:c,2:s,3:u,5:f,6:y,7:d,8:p,9:h,10:S,11:L,12:$,13:g,14:W,15:v,16:b,17:T,18:w,19:P,20:m,21:x,23:O,24:_,25:E,26:A,27:B,29:j,30:F,31:M,32:H,33:k,34:R,35:C}=i;let I;const D=n("red",(...t)=>{I=t}),{0:N,3:G,4:U,5:K,6:V,7:z,8:q,9:Z,10:Q,11:J,12:X,13:Y,14:tt,15:et,16:ot,17:nt,18:it,19:lt,20:ct,21:st,22:ut,23:ft,24:yt,25:dt,26:pt,27:ht,28:St,29:Lt,30:$t,31:gt,32:Wt,33:vt,34:bt,35:Tt}=I;a(void 0,void 0,void 0,void 0,void 0,void 0,V,z,q,Z,Q,J,X,Y,tt,et,ot,nt,it,lt,ct,st,void 0,ft,yt,dt,pt,ht,void 0,Lt,$t,gt,Wt,vt,bt,Tt),D(void 0,void 0,void 0,void 0,void 0,void 0,y,d,p,h,S,L,$,g,W,v,b,T,w,P,m,x,void 0,O,_,E,A,B,void 0,j,F,M,H,k,R,C),this.Et=l,this.At=c,this.Bt=s,this.jt=u,this.Ft=f,this.redGlobalThisPointer=N,this.Mt=G,this.Ht=U,this.kt=K,this.Rt=ct,this.Ct=ut,this.It=St}evaluate(t){try{const e=this.Ht(t);return"function"==typeof e?(e(),this.At()):e}catch(t){var e;throw null!=(e=this.At())?e:t}}Dt(t,e,o){if("object"==typeof t&&null!==t||"function"==typeof t){const r=[this.Bt(t)];lt(it,r,e),null!=o&&o.length&&(r[r.length]=et,lt(it,r,o)),lt(this.It,void 0,r)}}link(...t){let e=this.Et,o=this.redGlobalThisPointer;for(let r=0,{length:n}=t;r<n;r+=1){const n=t[r];e=this.jt(e,n),o=this.Mt(o,n),this.kt(o,e),this.Ft(e,o)}}Nt(t,e){if("object"==typeof t&&null!==t||"function"==typeof t){const o=this.Bt(t),r=ct(e),{length:n}=r,i=new ot(1+7*n);i[0]=o;for(let t=0,o=1;t<n;t+=1,o+=7){const n=r[t],a=e[n],l=at({__proto__:null},a);i[o]=n,i[o+1]="configurable"in l?!!l.configurable:et,i[o+2]="enumerable"in l?!!l.enumerable:et,i[o+3]="writable"in l?!!l.writable:et,i[o+4]="value"in l?this.Bt(l.value):et,i[o+5]="get"in l?this.Bt(l.get):et,i[o+6]="set"in l?this.Bt(l.set):et}lt(this.Ct,this,i)}}Gt(t,e){if("object"==typeof t&&null!==t||"function"==typeof t){const o=this.Bt(t),r=e?this.Bt(e):e;this.Rt(o,r)}}}const{assign:st}=Object,{ownKeys:ut}=Reflect,ft=["AggregateError","Array","Error","EvalError","Function","Object","Proxy","RangeError","ReferenceError","SyntaxError","TypeError","URIError","eval","globalThis"],yt=(dt=["globalThis","Infinity","NaN","undefined","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","BigInt","Boolean","FinalizationRegistry","Number","RegExp","String","Symbol","WeakRef","JSON","Math","Reflect","escape","unescape",...ft],l(dt,null),dt.at=y,dt.concat=d,dt.constructor=i,dt.copyWithin=p,dt.entries=h,dt.every=S,dt.fill=L,dt.filter=$,dt.find=g,dt.findIndex=W,dt.flat=v,dt.flatMap=b,dt.forEach=T,dt.includes=w,dt.indexOf=P,dt.join=m,dt.keys=x,dt.lastIndexOf=O,dt.map=_,dt.pop=E,dt.push=A,dt.reduce=B,dt.reduceRight=j,dt.reverse=F,dt.shift=M,dt.slice=H,dt.some=k,dt.sort=R,dt.splice=C,dt.toLocaleString=I,dt.toString=D,dt.unshift=N,dt.values=G,dt[c]=U,dt[u]=K,l(dt,f),dt);var dt;function getFilteredGlobalOwnKeys$LWS(t){const e=[];let o=0;const r=ut(t);for(let t=0,{length:n}=r;t<n;t+=1){const n=r[t];yt.includes(n)||(e[o++]=n)}return e}const{deleteProperty:pt,getPrototypeOf:ht,ownKeys:St}=Reflect,Lt=toSafeWeakMap$LWS(new WeakMap),$t=(()=>{const{navigator:t,navigator:{userAgentData:e}}=window,o=null==e?void 0:e.brands;if(Array.isArray(o)&&o.length?o.find(t=>"Chromium"===(null==t?void 0:t.brand)):/ (?:Headless)?Chrome\/\d+/.test(t.userAgent))return["window"]})();function getCachedGlobalObjectReferences$LWS(t){const{window:e}=t;let o,r;try{({document:r}=t),o=Lt.get(r)}catch(t){return}if(o)return o;const n=ht(e),i=ht(n),a=ht(i);return o={document:r,Ut:ht(r),window:e,Kt:ht(e),Vt:ht(n),zt:a,qt:St(a)},Lt.set(r,o),o}function filterWindowKeys$LWS(t){const e=[];let o=0;for(let r=0,{length:n}=t;r<n;r+=1){const n=t[r];"document"!==n&&"location "!==n&&"top"!==n&&"window"!==n&&"chrome"!==n&&(e[o++]=n)}return e}getCachedGlobalObjectReferences$LWS(window);const gt=Object,Wt=TypeError,vt=WeakMap,{prototype:bt}=Document,{prototype:Tt}=Node,{remove:wt,setAttribute:Pt}=Element.prototype,{appendChild:mt}=Tt,{assign:xt}=gt,{__lookupGetter__:Ot}=gt.prototype,{apply:_t}=Reflect,{close:Et,createElement:At,open:Bt}=bt,jt=_t(Ot,bt,["body"]),Ft=_t(Ot,HTMLElement.prototype,["style"]),Mt=_t(Ot,HTMLIFrameElement.prototype,["contentWindow"]),Ht=_t(Ot,Tt,["lastChild"]),kt=document,Rt=toSafeWeakMap$LWS(new vt);let Ct=null;function createIframeVirtualEnvironment$LWS(t,e){if("object"!=typeof t||null===t)throw new Wt("Missing global object virtualization target.");const{distortionCallback:o,endowments:r,globalObjectShape:n,instrumentation:i,Zt:a=!1}=xt({__proto__:null},e),l=function(){var t;const e=_t(At,kt,["iframe"]),o=null!=(t=_t(jt,kt,[]))?t:_t(Ht,kt,[]);return _t(Ft,e,[]).display="none",_t(Pt,e,["sandbox","allow-same-origin allow-scripts"]),_t(mt,o,[e]),e}(),c=_t(Mt,l,[]),s="object"!=typeof n||null===n;s&&null===Ct&&(Ct=filterWindowKeys$LWS(getFilteredGlobalOwnKeys$LWS(c)));const u=getCachedGlobalObjectReferences$LWS(t);if("object"!=typeof u||null===u)throw new Wt("Invalid virtualization target.");let f=Rt.get(u.document);void 0===f&&(f=function(t){if("object"!=typeof t||null===t)throw new Y("Missing globalObject.");return createMembraneMarshall$LWS(t)}(t),Rt.set(u.document,f));const y=new VirtualEnvironment$LWS({_t:f,distortionCallback:o,instrumentation:i,redConnector:createRedConnector$LWS(c.eval)});if(!function(t,e){for(let o=0,{length:r}=ft;o<r;o+=1){const r=ft[o],n=e[r];n&&(n.prototype?t.link(r,"prototype"):t.link(r))}}(y,t),"undefined"==typeof globalThis?y.link("window","document"):y.link("document"),y.link("__proto__","__proto__","__proto__"),y.Gt(u.document,u.Ut),y.Dt(u.window,s?Ct:filterWindowKeys$LWS(getFilteredGlobalOwnKeys$LWS(n)),a?void 0:$t),r){const t={};!function(t,e){const o=ut(e);for(let r=0,{length:n}=o;r<n;r+=1){const n=o[r];if(!yt.includes(n)){const o=e[n];o&&(t[n]=st({__proto__:null},o))}}return t}(t,r),pt(d=t,"document"),pt(d,"location"),pt(d,"top"),pt(d,"window"),pt(d,"chrome"),y.Nt(u.window,t)}var d;if(y.Dt(u.zt,u.qt),a){const{document:t}=c;_t(Bt,t,[]),_t(Et,t,[])}else _t(wt,l,[]);return y}const It=`'use strict';\n        ${t.SANDBOX_EVAL_CONTEXT_NAME}(${function(t){const{Qt:e}=t,o=Array,r=Promise,n=TypeError,{asyncIterator:i,iterator:a}=Symbol,{[a]:l}=o.prototype,c=function*(){}.constructor.prototype.prototype,{next:s,throw:u}=c,{delete:f,get:y,set:d}=Map.prototype,{appendChild:p}=Node.prototype,{defineProperties:h,freeze:S}=Object,{then:L}=r.prototype,$=r.resolve.bind(r),{apply:g,getPrototypeOf:W,setPrototypeOf:v}=Reflect,{replace:b}=String.prototype,{get:T,set:w}=WeakMap.prototype,{createElement:P}=Document.prototype,{querySelector:m,setAttribute:x}=Element.prototype,{stopPropagation:O}=Event.prototype,{addEventListener:_,removeEventListener:E}=EventTarget.prototype,{head:A}=document,B=new Map,j=/\\?'/g,F="data-locker-id",M=`${crypto.getRandomValues(new Uint32Array(1))[0]}`;class LockerSecurityError$LWS extends Error{constructor(t){super(`Lightning Web Security: ${t}`)}}function escapeSingleQuotes$LWS(t){return g(b,t,[j,"\\'"])}function genStep$LWS(t,e,o,r,n,i,a){let l,c;try{l=g(i,t,[a]),c=l.value}catch(t){return o(t),void 0}l.done?e(c):$(c).then(r,n)}function loadPromise$LWS(t,o){const n=new r((e,r)=>{function onerror$LWS(e){g(E,t,["error",onerror$LWS]),g(E,t,["load",onload$LWS]),g(O,e,[]),r(new LockerSecurityError$LWS(`Resource loader error loading '${escapeSingleQuotes$LWS(o)}'.`))}function onload$LWS(){g(E,t,["error",onerror$LWS]),g(E,t,["load",onload$LWS]),e(void 0)}g(_,t,["error",onerror$LWS]),g(_,t,["load",onload$LWS])});return g(w,e,[t,n]),g(p,A,[t]),n}function spreadable$LWS(t){return v(t,null),t[a]=l,t}function toString$LWS(t){return"string"==typeof t?t:`${t}`}return{asyncToGen:function(t,e,o){return new r((r,n)=>{const i=g(t,e,o);function next$LWS(t){genStep$LWS(i,r,n,next$LWS,thrower$LWS,s,t)}function thrower$LWS(t){genStep$LWS(i,r,n,next$LWS,thrower$LWS,u,t)}next$LWS(void 0)})},forAwaitOf:function(t,e,o){if(0===e){let e=!1,{[i]:r}=o;if(null==r&&(e=!0,({[a]:r}=o)),"function"!=typeof r)throw new n("Object is not iterable.");return g(d,B,[t,{iterable:g(r,o,[]),step:void 0,sync:e}]),void 0}const l=g(y,B,[t]);if(1===e){const t=l.iterable.next();return l.sync?new r(e=>{l.step=t,e()}):g(L,t,[t=>{l.step=t}])}if(2===e)return l.step.value;if(3===e){const e=!!l.step.done;return e&&g(f,B,[t]),e}},loadScript:function(t,o){const r=toString$LWS(o);let n=g(m,A,[`script[data-distorted-src='${escapeSingleQuotes$LWS(r)}'][data-locker-id='${M}']`]);var i;return n?null!=(i=g(T,e,[n]))?i:$():(n=g(P,document,["script"]),g(x,n,[F,M]),n.type="text/javascript",n.src=r,loadPromise$LWS(n,r))},loadStyle:function(t,o){const r=toString$LWS(o);let n=g(m,A,[`link[href='${escapeSingleQuotes$LWS(r)}']`]);var i;return n?null!=(i=g(T,e,[n]))?i:$():(n=g(P,document,["link"]),n.type="text/css",n.rel="stylesheet",n.href=r,loadPromise$LWS(n,r))},makeRedGet:function(...t){const{length:e}=t,r=o(e),n={};for(let o=0;o<e;o+=1)n[o]={__proto__:null,get:t[o]};return h(r,n),r},makeRedResyncImports:function(t){return function(){for(let e=0,{length:o}=t;e<o;e+=1)try{t[e]}catch(t){}return spreadable$LWS(t)}},namespace:function(t){return S(t)},spreadable:spreadable$LWS,super:function(t,e,o,r){const n=W(t.prototype)[e];return g(n,o,r)}}}})`,Dt={[t.SANDBOX_EVAL_CONTEXT_NAME]:{__proto__:null,get:()=>clearEvalContext$LWS()},[t.SANDBOX_EVAL_HELPERS_NAME]:{__proto__:null,get:()=>clearEvalHelpers$LWS()}},Nt=(()=>{const{navigator:e,navigator:{userAgentData:o}}=window,r=/WebKit/i,n=null==o?void 0:o.brands;return!(t.ArrayIsArray(n)&&n.length?n.find(t=>{const e=null==t?void 0:t.brand;return"string"==typeof e&&r.test(e)}):r.test(e.userAgent))})(),Gt=t.toSafeWeakMap(new t.WeakMapCtor),Ut=t.toSafeWeakMap(new t.WeakMapCtor),Kt=t.toSafeWeakSet(new t.WeakSetCtor);let Vt,zt;function clearEvalContext$LWS(){const t=Vt;return Vt=void 0,t}function clearEvalHelpers$LWS(){const t=zt;return zt=void 0,t}function createDistortionFactoryEntries$LWS(o,r=function(o){const{globalObject:r,type:n}=o,{Document:i,Element:a,HTMLElement:l,HTMLIFrameElement:c,HTMLScriptElement:s,SVGElement:u,XSLTProcessor:f}=r,y=1===n?t.ArrayConcat(e.internalDistortionFactories,e.internalKeyedDistortionFactories):t.ArrayConcat(e.externalDistortionFactories,e.externalKeyedDistortionFactories);e.createBlockedPropertyDistortionFactories(CustomElementRegistry.prototype,e.CustomElementRegistryBlockedProperties,y),e.createBlockedPropertyDistortionFactories(i.prototype,e.DocumentBlockedProperties,y),e.createBlockedPropertyDistortionFactories(a.prototype,e.ElementBlockedProperties,y),e.createBlockedPropertyDistortionFactories(l.prototype,e.HTMLElementBlockedProperties,y),e.createBlockedPropertyDistortionFactories(c.prototype,e.HTMLIFrameElementBlockedProperties,y),e.createBlockedPropertyDistortionFactories(HTMLEmbedElement.prototype,e.HTMLEmbedElementBlockedProperties,y),e.createBlockedPropertyDistortionFactories(HTMLObjectElement.prototype,e.HTMLObjectElementBlockedProperties,y),e.createBlockedPropertyDistortionFactories(s.prototype,e.HTMLScriptElementBlockedProperties,y),e.createBlockedPropertyDistortionFactories(u.prototype,e.SVGElementBlockedProperties,y),"function"==typeof f&&e.createBlockedPropertyDistortionFactories(f.prototype,e.XSLTProcessorBlockedProperties,y);return y}(o)){const{BASIC_INSTRUMENTATION_DATA:n,LOCKER_VERBOSE_DEBUG_MODE_INSTRUMENTATION_FLAG:i,instrumentation:a,key:l}=o,{error:c}=a,s=i?a.startActivity:void 0,u=[];let f=0;for(let e=0,{length:a}=r;e<a;e+=1){const a=r[e],y=a(o);if(!t.ArrayIsArray(y))continue;const{0:d,1:p}=y;if(!t.isObjectLike(d))continue;let h=p;if("function"==typeof p){let e;if(i){const{name:o}=a;e=o?t.ReflectApply(t.StringProtoReplace,o,[t.LOCKER_IDENTIFIER_MARKER,""]):"<unknown>"}const o=new t.ProxyCtor(d,t.ObjectFreeze({apply(r,a,u){let f;a===o&&(a=p),i&&(f=s(e,n));try{return t.ReflectApply(p,a,u)}catch(t){throw c({sandboxKey:l,error:t}),t}finally{i&&f.stop()}},construct(r,a,u){let f;u===o&&(u=p),i&&(f=s(e,n));try{return t.ReflectConstruct(p,a,u)}catch(t){throw c({sandboxKey:l,error:t}),t}finally{i&&f.stop()}}}));h=o}u[f++]=[d,h]}return u}function getSandboxRecord$LWS({context:o,document:n,endowments:i,globalObject:a,instrumentation:l,key:c,type:s,verboseInstrumentation:u},f){let y=Gt.get(n);void 0===y&&(y={__proto__:null},Gt.set(n,y));let d=y[c];if(d)return d;const p="object"==typeof l&&null!==l;let lazyVirtualEnvironmentEvaluator$LWS=e=>{const o=function(e){const{LOCKER_VERBOSE_DEBUG_MODE_INSTRUMENTATION_FLAG:o,Jt:n,endowments:i,globalObject:a,instrumentation:l,key:c,type:s,top:u,top:{Jt:f}}=e,y=e===u,d=createIframeVirtualEnvironment$LWS(a,{distortionCallback(e){const i=f.get(e);if(i)return y?i:n.get(e)||i;if("function"==typeof e||!t.ObjectHasOwn(e,"location"))return e;let a,d;if(t.ObjectHasOwn(e,"window")&&e.window===e)try{a=t.ReflectApply(r.WindowDocumentGetter,e,[]),d=e}catch(t){}else if("defaultView"in e){let o;try{o=t.ReflectApply(r.DocumentProtoDefaultViewGetter,e,[])}catch(t){}o&&(a=e,d=o)}return d&&getSandboxRecord$LWS({context:void 0,document:a,endowments:void 0,globalObject:d,instrumentation:l,key:c,type:s,verboseInstrumentation:o},u),e},endowments:t.ObjectAssign({},Dt,i?t.ObjectGetOwnPropertyDescriptors(i):void 0),Zt:!1,instrumentation:o?l:void 0});return t=>d.evaluate(t)}(d);lazyVirtualEnvironmentEvaluator$LWS=o;const n=clearEvalContext$LWS();return setEvalContext$LWS(e=>{t.ObjectAssign(d.Xt,e({Qt:Ut}))}),o(It),setEvalContext$LWS(n),o(e)};d={BASIC_INSTRUMENTATION_DATA:p?{sandboxKey:c}:void 0,LOCKER_DEBUG_MODE_INSTRUMENTATION_FLAG:p,LOCKER_VERBOSE_DEBUG_MODE_INSTRUMENTATION_FLAG:u&&p,UNCOMPILED_CONTEXT:{[t.UNCOMPILED_LOCATION_NAME]:a.location},context:o,document:n,Jt:Nt?t.toSafeWeakMap(new t.WeakMapCtor):t.toSafeMap(new t.MapCtor),endowments:i,globalObject:a,Xt:{},instrumentation:l,key:c,sandboxEvaluator:(t,e,o=a,r=n)=>internalEvaluateInSandbox$LWS({context:e,document:r,endowments:void 0,globalObject:o,instrumentation:l,key:c,source:t,sourceType:0,type:s,verboseInstrumentation:u}),top:f,type:s,virtualEnvironmentEvaluator:t=>lazyVirtualEnvironmentEvaluator$LWS(t)},y[c]=d,void 0===f&&(f=d,d.top=d);const{Jt:h}=f;h.set(n,n),h.set(a,a);const S=function(t){e.distortBlockedAttributes(t,HTMLElement,e.HTMLElementBlockedAttributes),e.distortBlockedAttributes(t,HTMLIFrameElement,e.HTMLIFrameElementBlockedAttributes),e.distortBlockedAttributes(t,HTMLScriptElement,e.HTMLScriptElementBlockedAttributes),e.distortBlockedAttributes(t,SVGElement,e.SVGElementBlockedAttributes);const o=createDistortionFactoryEntries$LWS(t);return e.createAttributeDistortions(t,o),o}(d);for(let t=0,{length:e}=S;t<e;t+=1){const{0:e,1:o}=S[t];h.set(e,o)}if(d===f)return d;const{Jt:L}=d,$=createDistortionFactoryEntries$LWS(d,e.evaluationDistortionFactories);for(let t=0,{length:e}=$;t<e;t+=1){const{0:e,1:o}=$[t];h.set(e,o),L.set(e,e)}if(Kt.has(a))return d;Kt.add(a);const onDOMContentLoadedOrWindowLoad$LWS=()=>{try{getSandboxRecord$LWS({context:void 0,document:a.document,endowments:void 0,globalObject:a,instrumentation:l,key:c,type:s,verboseInstrumentation:u},f)}catch(t){}},g=t.ReflectApply(r.WindowFrameElementGetter,a,[]);return g?(t.ReflectApply(r.EventTargetProtoAddEventListener,g,["load",onDOMContentLoadedOrWindowLoad$LWS,!0]),d):(t.ReflectApply(r.EventTargetProtoAddEventListener,a,["unload",function onWindowUnload$LWS(){r.WindowQueueMicrotask(()=>{try{t.ReflectApply(r.EventTargetProtoAddEventListener,a,["DOMContentLoaded",onDOMContentLoadedOrWindowLoad$LWS,!0]),t.ReflectApply(r.EventTargetProtoAddEventListener,a,["unload",onWindowUnload$LWS,!0])}catch(t){}})},!0]),d)}function internalEvaluateInSandbox$LWS(e){const{context:o,instrumentation:r,key:n,source:i,sourceType:a}=e;if("string"!=typeof n)throw new t.LockerSecurityError("Invalid sandbox key.");const l=getSandboxRecord$LWS(e);var c;let s;setEvalContext$LWS(o),c=l.Xt,zt=c;const u=function(e,o=1){let r="function"==typeof e?t.extractFunctionBodySource(e):t.toString(e);return r=t.ReflectApply(t.StringProtoReplace,r,[/\/\/# sandbox(?=MappingURL=.*?\s*$)/,"//# source"]),1===o&&-1===t.indexOfPragma(r,"use strict")?`'use strict';${r}`:r}(i,a),{BASIC_INSTRUMENTATION_DATA:f,LOCKER_DEBUG_MODE_INSTRUMENTATION_FLAG:y}=l,d=y?r.startActivity:void 0;let p;y&&(p=d("evaluateInSandbox",f));try{s=l.virtualEnvironmentEvaluator(u)}catch(t){throw y&&p.error({sandboxKey:n,error:t}),t}finally{clearEvalContext$LWS(),clearEvalHelpers$LWS()}return y&&p.stop(),s}function setEvalContext$LWS(t){Vt=t}exports.CORE_SANDBOX_KEY="lws-core-sandbox",exports.evaluateInCoreSandbox=function(t,e,r,n,i=o.defaultInstrumentation,a=!1){return internalEvaluateInSandbox$LWS({context:r,document:document,endowments:n,globalObject:window,instrumentation:i,key:"lws-core-sandbox",source:e,sourceType:1,type:1,verboseInstrumentation:a})},exports.evaluateInSandbox=function(t,e,r,n,i=o.defaultInstrumentation,a=!1){return internalEvaluateInSandbox$LWS({context:r,document:document,endowments:n,globalObject:window,instrumentation:i,key:t,source:e,sourceType:1,type:0,verboseInstrumentation:a})};
